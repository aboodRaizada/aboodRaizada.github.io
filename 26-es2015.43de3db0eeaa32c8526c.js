(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"6JtR":function(e,t,n){"use strict";n.r(t),n.d(t,"UserModule",function(){return be});var a=n("SVse"),r=n("FpXt"),o=n("iInd"),i=n("mrSG"),s=n("0sX0"),c=n("v1vE"),l=n("3bzS"),u=n("AytR"),d=n("8Y7J"),h=n("jy+X"),b=n("Gpft"),g=n("SOeY"),p=n("IheW"),m=n("z6cu"),f=n("lJxs"),P=n("JIr8");const C={headers:new p.d({"Content-Type":"application/json"})};let M=(()=>{class e{constructor(e){this.httpClient=e}getDriverUser(e){return this.httpClient.get("driver/"+e.toString(),C).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}acceptRegisteredDriver(e){return this.httpClient.get("driver/acceptRegisteredDriver/"+e.toString(),C).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}updateDriver(e){return this.httpClient.put("driver",e,C).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}submitDriverPictures(e){return this.httpClient.post("driver/upload",e).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}changeUserStatus(e){return this.httpClient.put("system/changeUserStatus",e,C).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}getAdminUser(e){return this.httpClient.get("admin/users/"+e.toString(),C).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}addAdmin(e){return this.httpClient.post("admin",e,C).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}updateAdmin(e){return this.httpClient.put("admin",e,C).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}getSupportUser(e){return this.httpClient.get("support/users/"+e.toString(),C).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}addSupport(e){return this.httpClient.post("support/insertUser",e,C).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}updateSupport(e){return this.httpClient.post("support/updateUser",e,C).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}submitUserPictures(e,t){return this.httpClient.post(t+"/upload",e).pipe(Object(f.a)(e=>e),Object(P.a)(e=>Object(m.a)(e)))}}return e.\u0275fac=function(t){return new(t||e)(d.dc(p.b))},e.\u0275prov=d.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var y=n("lmAj"),v=n("TSSN"),O=n("s7LF"),x=n("hvj1"),_=n("ZFy/"),D=n("x9Kq");const I=[[["",8,"header"]],[["",8,"body"]],[["",8,"footer"]]],w=function(e,t){return{"d-flex":e,"d-none":t}},k=[".header",".body",".footer"];let F=(()=>{class e{constructor(){this.showModal=!1}ngOnInit(){}closeModal(){this.showModal=!1}stopProbagation(e){e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Nb({type:e,selectors:[["app-modal"]],ngContentSelectors:k,decls:11,vars:4,consts:[[1,"overlay",3,"ngClass","click"],[1,"containerr"],[1,"modal",3,"click"],[1,"modal-header","bg-primary"],[1,"closeButton"],[1,"fas","fa-times",3,"click"],[1,"modal-body"],[1,"modal-footer"]],template:function(e,t){1&e&&(d.pc(I),d.Zb(0,"div",0),d.gc("click",function(){return t.closeModal()}),d.Zb(1,"div",1),d.Zb(2,"div",2),d.gc("click",function(e){return t.stopProbagation(e)}),d.Zb(3,"div",3),d.oc(4),d.Zb(5,"div",4),d.Zb(6,"i",5),d.gc("click",function(){return t.closeModal()}),d.Yb(),d.Yb(),d.Yb(),d.Zb(7,"div",6),d.oc(8,1),d.Yb(),d.Zb(9,"div",7),d.oc(10,2),d.Yb(),d.Yb(),d.Yb(),d.Yb()),2&e&&d.qc("ngClass",d.wc(1,w,t.showModal,!t.showModal))},directives:[a.j],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:nexa;background-color:#f3f4f5;text-align:left;color:#0d0f11}body[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]{font-weight:unset;font-size:14px}body.rtl[_ngcontent-%COMP%]{direction:rtl;text-align:right;font-family:jannat}body.rtl[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:cairo-bold}body.rtl[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .side-nav[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   ul.open[_ngcontent-%COMP%]{height:105px!important}body.rtl[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{left:unset!important;right:16px}body.rtl[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-nav[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .lang-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{right:unset!important;left:0}body.rtl[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .side-nav[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   ul.primary-menu[_ngcontent-%COMP%]   li.primary-link[_ngcontent-%COMP%]   .link-element.dropper[_ngcontent-%COMP%]:after{right:unset!important;left:12px}body.rtl[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-nav[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .lang-container[_ngcontent-%COMP%]   .current-lang[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:translateY(0)}body.rtl[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-nav[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   ul.icon-menu[_ngcontent-%COMP%]{right:unset!important;left:0}body.rtl[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   label.out[_ngcontent-%COMP%]{transform:translateX(-40px)!important}body.rtl[_ngcontent-%COMP%]   .reports-acc-header[_ngcontent-%COMP%]{font-size:20px!important}body.rtl[_ngcontent-%COMP%]   .mat-option-text[_ngcontent-%COMP%]{text-align:right;font-family:jannat;display:flex;justify-content:flex-start;direction:rtl}body.rtl[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{font-family:jannat-bold}body.rtl[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   .mat-form-field-label-wrapper[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   .mat-select-value-text[_ngcontent-%COMP%]{text-align:right;direction:rtl;font-family:jannat}body.rtl[_ngcontent-%COMP%]   .mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   .mat-form-field-hint-wrapper[_ngcontent-%COMP%]{direction:rtl}body.rtl[_ngcontent-%COMP%]   .mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{direction:ltr}body.rtl[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   .mat-expansion-panel-content[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%], body.rtl[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{font-family:jannat}body.rtl[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:18px}body.rtl[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]:first-of-type, body.rtl[_ngcontent-%COMP%]   mat-footer-cell[_ngcontent-%COMP%]:first-of-type, body.rtl[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:unset!important;padding-right:24px}body.rtl[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]{font-size:16px!important}body.rtl[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{font-size:14px!important}body.rtl[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{margin-right:unset!important}body.rtl[_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]{direction:rtl}mat-table[_ngcontent-%COMP%]{text-transform:capitalize!important}mat-header-row[_ngcontent-%COMP%]{background-color:#ffeeed!important}mat-row[_ngcontent-%COMP%]{cursor:pointer}mat-row[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.mat-header-cell[_ngcontent-%COMP%]{font-size:14px}mat-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:40px;padding:10px 0;border-radius:50%;-webkit-animation:fadeIn 1s;animation:fadeIn 1s}.row-hover[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.mat-form-field[_ngcontent-%COMP%]{direction:ltr;font-size:16px;cursor:text;text-align:initial;font-family:inherit}.mat-paginator-container[_ngcontent-%COMP%]{direction:ltr}.mat-form-field-appearance-standard.mat-form-field-has-label[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%]:not(.mat-select-empty)   .mat-select-arrow-wrapper[_ngcontent-%COMP%]{transform:unset!important}.mat-datepicker-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]{height:unset!important}mat-hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:start;display:block}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-family:nexa-bold}.card-header[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:cairo-bold;font-size:16px}.card-header[_ngcontent-%COMP%]:first-child   h3[_ngcontent-%COMP%]{font-size:22px;margin-bottom:15px}.icon-label[_ngcontent-%COMP%]{font-size:16px;font-family:Roboto,Arial,sans-serif;position:relative;bottom:25px;display:block;background-color:#fff;padding:7px 10px;border-radius:8px;box-shadow:-1px 2px 4px rgba(0,0,0,.21)}.icon-label[_ngcontent-%COMP%]:hover{background-color:#000}.reports-acc-header[_ngcontent-%COMP%]{margin:20px 0;position:relative;font-size:18px;display:flex;justify-content:center;text-align:center}.reports-acc-header[_ngcontent-%COMP%]:before{content:"";height:3px;background-color:#da243b;width:48px;position:absolute;bottom:-5px}.reports-acc-header[_ngcontent-%COMP%]:after{content:""}.bg-lighter[_ngcontent-%COMP%]{background-color:#f4f4f4}.radius-35px[_ngcontent-%COMP%]{border-radius:35px}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:#007cd4}.width-200px[_ngcontent-%COMP%]{width:200px}.width-250px[_ngcontent-%COMP%]{width:250px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#e5e7e9}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0f4e7a}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#23b6b9}button[_ngcontent-%COMP%]{-webkit-animation:fadeIn .5s ease-out;animation:fadeIn .5s ease-out}.animated-scaling[_ngcontent-%COMP%]{-webkit-animation:scaling .7s ease-out;animation:scaling .7s ease-out}@-webkit-keyframes fadeIn{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@keyframes fadeIn{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@-webkit-keyframes fadeInTop{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInTop{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes fadeInLeft{0%{opacity:0;transform:translateX(10px)}to{opacity:1;transform:translateX(0)}}@keyframes fadeInLeft{0%{opacity:0;transform:translateX(10px)}to{opacity:1;transform:translateX(0)}}@-webkit-keyframes fadeInRight{0%{opacity:0;transform:translateX(-10px)}to{opacity:1;transform:translateX(0)}}@keyframes fadeInRight{0%{opacity:0;transform:translateX(-10px)}to{opacity:1;transform:translateX(0)}}@-webkit-keyframes fadeInBottom{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInBottom{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes scaling{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes scaling{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}.overlay[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5);position:fixed;top:0;left:0;width:100%;height:100vh;z-index:499;display:flex;justify-content:center;overflow-y:scroll}.overlay[_ngcontent-%COMP%]   .containerr[_ngcontent-%COMP%]{max-width:650px}@media (max-width:800px){.overlay[_ngcontent-%COMP%]   .containerr[_ngcontent-%COMP%]{max-width:95%}}.overlay[_ngcontent-%COMP%]   .containerr[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background-color:#fff;margin:50px 0;box-shadow:0 5px 11px 0 rgba(0,0,0,.18),0 4px 15px 0 rgba(0,0,0,.15);-webkit-animation:fadeInTop .8s;animation:fadeInTop .8s}.overlay[_ngcontent-%COMP%]   .containerr[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{position:relative;padding:20px 25px;text-align:initial;color:#fff;box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12)}.overlay[_ngcontent-%COMP%]   .containerr[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .closeButton[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;display:flex;align-items:center;padding:25px 25px 0;justify-content:flex-end}.overlay[_ngcontent-%COMP%]   .containerr[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .closeButton[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.overlay[_ngcontent-%COMP%]   .containerr[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .closeButton[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{opacity:.8}.overlay[_ngcontent-%COMP%]   .containerr[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:20px 25px;text-align:center}.overlay[_ngcontent-%COMP%]   .containerr[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px 25px;border-top:1px solid #dee2e6}']}),e})();const L=["error"],Y=["imageModal"],Z=["modal"],N=["nationalNumberPhotoInput"],S=["dp1"],T=["dp2"];function U(e,t){1&e&&(d.Zb(0,"p",38),d.Lc(1),d.lc(2,"translate"),d.Yb()),2&e&&(d.Fb(1),d.Nc(" ",d.mc(2,1,"user.checkCarefuly")," "))}function V(e,t){1&e&&(d.Zb(0,"p",38),d.Lc(1),d.lc(2,"translate"),d.Yb()),2&e&&(d.Fb(1),d.Nc(" ",d.mc(2,1,"user.fillForAdd")," "))}function j(e,t){1&e&&(d.Zb(0,"p",38),d.Lc(1),d.lc(2,"translate"),d.Yb()),2&e&&(d.Fb(1),d.Nc(" ",d.mc(2,1,"user.editAndSave")," "))}function A(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",9),d.Zb(1,"label",10),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Zb(4,"input",39),d.gc("ngModelChange",function(t){return d.Ec(e),d.kc().userData.id=t}),d.Yb(),d.Yb()}if(2&e){const e=d.kc();d.Fb(2),d.Nc(" ",d.mc(3,2,"user.agentId")," "),d.Fb(2),d.qc("ngModel",e.userData.id)}}function q(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",9),d.Zb(1,"label",12),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Zb(4,"input",40),d.gc("ngModelChange",function(t){return d.Ec(e),d.kc().userData.nationalNumber=t}),d.Yb(),d.Yb()}if(2&e){const e=d.kc();d.Fb(2),d.Mc(d.mc(3,2,"user.nationalNumber")),d.Fb(2),d.qc("ngModel",e.userData.nationalNumber)}}function B(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",9),d.Zb(1,"label",12),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Zb(4,"input",41),d.gc("ngModelChange",function(t){return d.Ec(e),d.kc().userData.commercialRegistrationNumber=t}),d.Yb(),d.Yb()}if(2&e){const e=d.kc();d.Fb(2),d.Nc("",d.mc(3,2,"user.commercialRegistrationNumber")," "),d.Fb(2),d.qc("ngModel",e.userData.commercialRegistrationNumber)}}function R(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",9),d.Zb(1,"label",12),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Zb(4,"input",42),d.gc("ngModelChange",function(t){return d.Ec(e),d.kc().userData.website=t}),d.Yb(),d.Yb()}if(2&e){const e=d.kc();d.Fb(2),d.Nc("",d.mc(3,2,"user.website")," "),d.Fb(2),d.qc("ngModel",e.userData.website)}}function E(e,t){if(1&e&&(d.Zb(0,"option",43),d.Lc(1),d.Yb()),2&e){const e=t.$implicit,n=d.kc();d.qc("value",e.id),d.Fb(1),d.Nc(" ","en"===n.currentLang?e.name:e.arabicName," ")}}function $(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",9),d.Zb(1,"label",12),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Zb(4,"select",44),d.gc("ngModelChange",function(t){return d.Ec(e),d.kc().userData.gender=t}),d.Zb(5,"option",43),d.Lc(6),d.lc(7,"translate"),d.Yb(),d.Zb(8,"option",43),d.Lc(9),d.lc(10,"translate"),d.Yb(),d.Yb(),d.Yb()}if(2&e){const e=d.kc();d.Fb(2),d.Mc(d.mc(3,6,"user.gander")),d.Fb(2),d.qc("ngModel",e.userData.gender),d.Fb(1),d.qc("value","true"),d.Fb(1),d.Nc(" ",d.mc(7,8,"user.male")," "),d.Fb(2),d.qc("value","false"),d.Fb(1),d.Nc(" ",d.mc(10,10,"user.female")," ")}}function K(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",45),d.Zb(1,"label",12),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Zb(4,"input",46,47),d.gc("click",function(t){return d.Ec(e),d.kc().openNationalNumberFileInput(t)}),d.Yb(),d.Zb(6,"input",48),d.gc("change",function(t){return d.Ec(e),d.kc().onNationalNumberPhotoChange(t)}),d.Yb(),d.Yb()}2&e&&(d.Fb(2),d.Mc(d.mc(3,1,"user.nationalNumberPhoto")))}function z(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",49),d.Zb(1,"div",50),d.Zb(2,"input",51),d.gc("ngModelChange",function(t){return d.Ec(e),d.kc().userSuspended=t})("change",function(t){d.Ec(e);const n=d.kc(),a=d.Cc(74);return n.suspendUserChange(t,a)}),d.Yb(),d.Ub(3,"label",52),d.Zb(4,"label",53),d.Lc(5),d.lc(6,"translate"),d.Yb(),d.Yb(),d.Yb()}if(2&e){const e=d.kc();d.Fb(2),d.qc("ngModel",e.userSuspended),d.Fb(3),d.Mc(d.mc(6,2,"user.userSuspended"))}}function X(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",9),d.Zb(1,"button",54),d.gc("click",function(){return d.Ec(e),d.kc().showVehicleDetailsModal()}),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Yb()}2&e&&(d.Fb(2),d.Nc(" ",d.mc(3,1,"user.vehicleDetails")," "))}function Q(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",55),d.Zb(1,"button",56),d.gc("click",function(){d.Ec(e);const t=d.kc(),n=d.Cc(74),a=d.Cc(77);return t.acceptProfile(n,a)}),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Yb()}2&e&&(d.Fb(2),d.Nc(" ",d.mc(3,1,"user.acceptProfile")," "))}function W(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",57),d.Zb(1,"button",56),d.gc("click",function(){d.Ec(e);const t=d.kc(),n=d.Cc(71);return t.save(n)}),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Yb()}2&e&&(d.Fb(2),d.Nc(" ",d.mc(3,1,"user.save")," "))}function J(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",58),d.Zb(1,"img",59),d.gc("mouseenter",function(){return d.Ec(e),d.kc().showAvatarButton()})("click",function(t){return d.Ec(e),d.kc().openImageModal(t)}),d.Yb(),d.Zb(2,"div",60),d.Zb(3,"button",61),d.gc("click",function(t){return d.Ec(e),d.kc().openPersonalPhotoFileInput(t)}),d.Lc(4),d.lc(5,"translate"),d.Yb(),d.Ub(6,"input",62),d.Zb(7,"i",63),d.gc("click",function(){return d.Ec(e),d.kc().hideAvatarButton()}),d.lc(8,"translate"),d.Yb(),d.Yb(),d.Yb()}if(2&e){const e=d.kc();d.Fb(2),d.Lb("d-flex",e.visableAvataButton),d.Fb(2),d.Nc(" ",d.mc(5,4,"user.changePhoto")," "),d.Fb(3),d.rc("matTooltip",d.mc(8,6,"user.hide"))}}function G(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",58),d.Zb(1,"img",64),d.gc("mouseenter",function(){return d.Ec(e),d.kc().showAvatarButton()})("click",function(t){return d.Ec(e),d.kc().openImageModal(t)})("error",function(t){return d.Ec(e),d.kc().failPersonalImageLoading(t)}),d.Yb(),d.Zb(2,"div",60),d.Zb(3,"button",61),d.gc("click",function(t){return d.Ec(e),d.kc().openPersonalPhotoFileInput(t)}),d.Lc(4),d.lc(5,"translate"),d.Yb(),d.Ub(6,"input",62),d.Zb(7,"i",63),d.gc("click",function(){return d.Ec(e),d.kc().hideAvatarButton()}),d.lc(8,"translate"),d.Yb(),d.Yb(),d.Yb()}if(2&e){const e=d.kc();d.Fb(1),d.qc("src",e.userPersonalPhotosURL,d.Fc),d.Fb(1),d.Lb("d-flex",e.visableAvataButton),d.Fb(2),d.Nc(" ",d.mc(5,5,"user.changePhoto")," "),d.Fb(3),d.rc("matTooltip",d.mc(8,7,"user.hide"))}}function H(e,t){if(1&e){const e=d.ac();d.Zb(0,"img",74),d.gc("click",function(t){return d.Ec(e),d.kc(2).openImageModal(t)})("error",function(t){return d.Ec(e),d.kc(2).failLicenseImageLoading(t)}),d.Yb()}}function ee(e,t){if(1&e){const e=d.ac();d.Zb(0,"img",75),d.gc("click",function(t){return d.Ec(e),d.kc(2).openImageModal(t)})("error",function(t){return d.Ec(e),d.kc(2).failLicenseImageLoading(t)}),d.Yb()}if(2&e){const e=d.kc(2);d.qc("src",e.driverNationalNumberPhotosURL,d.Fc)}}function te(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",65),d.Zb(1,"div",66),d.Zb(2,"div",67),d.Ub(3,"i",68),d.Zb(4,"span",69),d.Lc(5),d.lc(6,"translate"),d.Yb(),d.Yb(),d.Yb(),d.Zb(7,"div",70),d.Kc(8,H,1,0,"img",71),d.Kc(9,ee,1,1,"img",72),d.Zb(10,"div",73),d.Zb(11,"button",61),d.gc("click",function(t){return d.Ec(e),d.kc().openNationalNumberFileInput(t)}),d.Lc(12),d.lc(13,"translate"),d.Yb(),d.Ub(14,"input",62),d.Yb(),d.Yb(),d.Yb()}if(2&e){const e=d.kc();d.Fb(5),d.Nc(" ",d.mc(6,4,"user.idPhoto")," "),d.Fb(3),d.qc("ngIf","driver"===e.userType.toLowerCase()&&null==e.userData.nationalNumber),d.Fb(1),d.qc("ngIf","driver"===e.userType.toLowerCase()&&e.userData.nationalNumber),d.Fb(3),d.Nc(" ",d.mc(13,6,"user.changePhoto")," ")}}function ne(e,t){if(1&e&&d.Ub(0,"app-image-modal",76,77),2&e){const e=d.kc();d.qc("component",e)}}function ae(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",95),d.Zb(1,"img",96),d.gc("click",function(t){return d.Ec(e),d.kc(2).openImageModal(t)}),d.Yb(),d.Yb()}}function re(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",95),d.Zb(1,"img",97),d.gc("click",function(t){return d.Ec(e),d.kc(2).openImageModal(t)}),d.Yb(),d.Yb()}if(2&e){const e=d.kc(2);d.Fb(1),d.qc("src",e.driverVehiclesPhotosURL,d.Fc)}}function oe(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",95),d.Zb(1,"img",98),d.gc("click",function(t){return d.Ec(e),d.kc(2).openImageModal(t)}),d.Yb(),d.Yb()}}function ie(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",95),d.Zb(1,"img",97),d.gc("click",function(t){return d.Ec(e),d.kc(2).openImageModal(t)}),d.Yb(),d.Yb()}if(2&e){const e=d.kc(2);d.Fb(1),d.qc("src",e.driverVehicleLicensePhotosURL,d.Fc)}}function se(e,t){if(1&e&&(d.Zb(0,"option",43),d.Lc(1),d.Yb()),2&e){const e=t.$implicit;d.qc("value",e.id),d.Fb(1),d.Nc(" ",e.type," ")}}function ce(e,t){if(1&e&&(d.Zb(0,"option",43),d.Lc(1),d.Yb()),2&e){const e=t.$implicit;d.qc("value",e.id),d.Fb(1),d.Nc(" ",e.type," ")}}function le(e,t){if(1&e){const e=d.ac();d.Zb(0,"button",99),d.gc("click",function(){return d.Ec(e),d.kc(2).saveVehicleDetails()}),d.Lc(1),d.lc(2,"translate"),d.Yb()}2&e&&(d.Fb(1),d.Nc(" ",d.mc(2,1,"user.save")," "))}function ue(e,t){if(1&e){const e=d.ac();d.Zb(0,"app-modal",null,78),d.Zb(2,"div",79),d.Zb(3,"h2",80),d.Lc(4),d.lc(5,"translate"),d.Yb(),d.Yb(),d.Zb(6,"div",81),d.Zb(7,"form",1),d.Zb(8,"div",9),d.Zb(9,"label",12),d.Lc(10),d.lc(11,"translate"),d.Yb(),d.Zb(12,"input",82),d.gc("click",function(t){return d.Ec(e),d.kc().openVehiclePictureFileInput(t)}),d.Yb(),d.Zb(13,"input",83),d.gc("change",function(t){return d.Ec(e),d.kc().onVehiclePictureChange(t)}),d.Yb(),d.Lc(14),d.Kc(15,ae,2,0,"div",84),d.Kc(16,re,2,1,"div",84),d.Yb(),d.Zb(17,"div",9),d.Zb(18,"label",12),d.Lc(19),d.lc(20,"translate"),d.Yb(),d.Zb(21,"input",82),d.gc("click",function(t){d.Ec(e);const n=d.kc();return n.openLicensePictureFileInput(t),n.blur(t)}),d.Yb(),d.Zb(22,"input",85),d.gc("change",function(t){d.Ec(e);const n=d.kc();return n.onLicensePictureChange(t),n.blur(t)}),d.Yb(),d.Lc(23),d.Kc(24,oe,2,0,"div",84),d.Kc(25,ie,2,1,"div",84),d.Yb(),d.Zb(26,"div",9),d.Zb(27,"label",12),d.Lc(28),d.lc(29,"translate"),d.Yb(),d.Zb(30,"input",86),d.gc("ngModelChange",function(t){return d.Ec(e),d.kc().userVehicle.licenseNumber=t}),d.Yb(),d.Yb(),d.Zb(31,"div",9),d.Zb(32,"label",12),d.Lc(33),d.lc(34,"translate"),d.Yb(),d.Zb(35,"select",87),d.gc("ngModelChange",function(t){return d.Ec(e),d.kc().userVehicle.vehicleId=t}),d.Kc(36,se,2,2,"option",15),d.lc(37,"async"),d.Zb(38,"option",43),d.Lc(39,"1"),d.Yb(),d.Yb(),d.Lc(40),d.Yb(),d.Zb(41,"div",9),d.Zb(42,"label",12),d.Lc(43),d.lc(44,"translate"),d.Yb(),d.Zb(45,"input",88),d.gc("ngModelChange",function(t){return d.Ec(e),d.kc().userVehicle.model=t}),d.Yb(),d.Lc(46),d.Yb(),d.Zb(47,"div",9),d.Zb(48,"label",12),d.Lc(49),d.lc(50,"translate"),d.Yb(),d.Zb(51,"input",89),d.gc("ngModelChange",function(t){return d.Ec(e),d.kc().userVehicle.plateNumber=t}),d.Yb(),d.Lc(52),d.Yb(),d.Zb(53,"div",9),d.Zb(54,"label",12),d.Lc(55),d.lc(56,"translate"),d.Yb(),d.Zb(57,"select",90),d.gc("ngModelChange",function(t){return d.Ec(e),d.kc().userBox.boxTypeId=t}),d.Kc(58,ce,2,2,"option",15),d.lc(59,"async"),d.Yb(),d.Lc(60),d.Yb(),d.Yb(),d.Yb(),d.Zb(61,"div",91),d.Zb(62,"div",92),d.Kc(63,le,3,3,"button",93),d.Zb(64,"button",94),d.gc("click",function(){return d.Ec(e),d.kc().closeModal()}),d.Lc(65),d.lc(66,"translate"),d.Yb(),d.Yb(),d.Yb(),d.Yb()}if(2&e){const e=d.kc();d.Fb(4),d.Nc(" ",d.mc(5,32,"user.vehicleDetails")," "),d.Fb(6),d.Nc("",d.mc(11,34,"user.vehiclePicture")," "),d.Fb(2),d.qc("value","ar"===e.currentLang?e.userVehicle.vehicleImageName?"\u062a\u0645 \u0627\u0644\u0627\u062e\u062a\u064a\u0627\u0631":"\u0642\u0645 \u0628\u0627\u0644\u0627\u062e\u062a\u064a\u0627\u0631":e.userVehicle.vehicleImageName?"selected image":"select image"),d.Fb(2),d.Oc(" ",e.userVehicle.vehicleImageName," ",e.userVehicle.vehicleImageFile," "),d.Fb(1),d.qc("ngIf",null==e.userVehicle.vehicleImageName),d.Fb(1),d.qc("ngIf",null!==e.userVehicle.vehicleImageName&&""!==e.userVehicle.vehicleImageName),d.Fb(3),d.Nc(" ",d.mc(20,36,"user.licensePicture")," "),d.Fb(2),d.qc("value","ar"===e.currentLang?e.userVehicle.licenseImageName?"\u062a\u0645 \u0627\u0644\u0627\u062e\u062a\u064a\u0627\u0631":"\u0642\u0645 \u0628\u0627\u0644\u0627\u062e\u062a\u064a\u0627\u0631":e.userVehicle.licenseImageName?"selected image":"select image"),d.Fb(2),d.Oc(" ",e.userVehicle.licenseImageName," ",e.userVehicle.licenseImageFile," "),d.Fb(1),d.qc("ngIf",null==e.userVehicle.licenseImageName),d.Fb(1),d.qc("ngIf",null!==e.userVehicle.licenseImageName&&""!==e.userVehicle.licenseImageName),d.Fb(3),d.Nc("",d.mc(29,38,"user.licenseNumber")," "),d.Fb(2),d.qc("ngModel",e.userVehicle.licenseNumber),d.Fb(3),d.Nc("",d.mc(34,40,"user.vehicleType")," "),d.Fb(2),d.qc("ngModel",e.userVehicle.vehicleId),d.Fb(1),d.qc("ngForOf",d.mc(37,42,e.vehicles$)),d.Fb(2),d.qc("value",1),d.Fb(2),d.Nc(" ",e.userVehicle.vehicleId," "),d.Fb(3),d.Nc("",d.mc(44,44,"user.vehicleModel")," "),d.Fb(2),d.qc("ngModel",e.userVehicle.model),d.Fb(1),d.Nc(" ",e.userVehicle.model," "),d.Fb(3),d.Nc("",d.mc(50,46,"user.plateNumber")," "),d.Fb(2),d.qc("ngModel",e.userVehicle.plateNumber),d.Fb(1),d.Nc(" ",e.userVehicle.plateNumber," "),d.Fb(3),d.Mc(d.mc(56,48,"user.boxType")),d.Fb(2),d.qc("ngModel",e.userBox.boxTypeId),d.Fb(1),d.qc("ngForOf",d.mc(59,50,e.boxTypes$)),d.Fb(2),d.Nc(" ",e.userVehicle.vehicleImageName," "),d.Fb(3),d.qc("ngIf",0==e.isReviewing),d.Fb(2),d.Nc(" ",d.mc(66,52,"user.close")," ")}}const de=[{path:"",component:(()=>{let e=class{constructor(e,t,n,a,r,o,i,s){this.loader=e,this.authService=t,this.systemService=n,this.userService=a,this.agentService=r,this.route=o,this.translate=i,this.router=s,this.currentLang="ar"===localStorage.getItem("sender-manage-lang")?"ar":"en",this.showImageModal=!1,this.visableAvataButton=!1,this.datePickerOptions={dateFormat:"dd/mm/yyyy",firstDayOfWeek:"sa",alignSelectorRight:!1,openSelectorTopOfInput:!1,minYear:1971,maxYear:2200,showSelectorArrow:!0,monthSelector:!0,yearSelector:!0,satHighlight:!1,disableHeaderButtons:!0,showWeekNumbers:!1,selectorHeight:"250px",selectorWidth:"250px",closeSelectorOnDateSelect:!0,closeSelectorOnDocumentClick:!0,showMonthNumber:!0,focusInputOnDateSelect:!0,dateRangeDatesDelimiter:" - ",defaultView:c.d.Date,showFooterToday:!1,calendarAnimation:{in:c.c.FlipDiagonal,out:c.c.FlipDiagonal},rtl:!1},this.datepickerLocale="en",this.userSuspended=!1,this.userVehicle={},this.userBox={},this.isReviewing=!1,this.folderAssetsPath="Assets/Images",this.folderPersonalPhotosPath="PersonalPhotos",this.folderNationalNumberPhotosPath="NationalNumberPhotos",this.folderVehicleLicensePhotosPath="VehicleLicensePhotos",this.folderVehiclesPhotosPath="VehiclesPhotos"}ngOnInit(){if(this.route.params.pipe(Object(l.b)(this)).subscribe(e=>{this.userId=Number.parseInt(e.id),this.userType=e.type,console.log(this.userType+"    "+this.userId)}),this.systemService.getCities(192).pipe(Object(l.b)(this)).subscribe(e=>this.ksaCities=e),this.loadCountries(),this.loadVehicles(),this.loadBoxTypes(),null!=this.userType&&"driver"===this.userType.toLowerCase()){if(this.userData=new s.g,this.userTypePath="Drivers",0==this.userId)return;this.loader.showLoader$.next(!0),this.loadDriverUserData(this.userId)}else if(null!=this.userType&&"support"===this.userType.toLowerCase()){if(this.userData=new s.r,this.userTypePath="Supports",0==this.userId)return;this.loader.showLoader$.next(!0),this.loadSupportUserData(this.userId)}else if(null!=this.userType&&"admin"===this.userType.toLowerCase()){if(this.userData=new s.a,this.userTypePath="Admins",0==this.userId)return;this.loader.showLoader$.next(!0),this.loadAdminUserData(this.userId)}else if(null!=this.userType&&"agent"===this.userType.toLowerCase()){if(this.userData=new s.c,this.userTypePath="Agents",0==this.userId)return;this.loader.showLoader$.next(!0),this.loadAgentUserData(this.userId)}this.getCurrentLang()}getCurrentLang(){this.translate.onLangChange.pipe(Object(l.b)(this)).subscribe(e=>{this.currentLang="ar"===e.lang?"ar":"en"})}showAvatarButton(){this.visableAvataButton=!0}hideAvatarButton(){this.visableAvataButton=!1}blur(e){e.target.blur()}birthDateChange(e){this.userData.birthDay=e.singleDate.date.day,this.userData.birthMonth=e.singleDate.date.month,this.userData.birthYear=e.singleDate.date.year}residenceDateChange(e){this.userData.residenceExpireDay=e.singleDate.date.day,this.userData.residenceExpireMonth=e.singleDate.date.month,this.userData.residenceExpireYear=e.singleDate.date.year}showVehicleDetailsModal(){this.modal.showModal=!0}loadDriverUserData(e){this.userService.getDriverUser(e).pipe(Object(l.b)(this)).subscribe(e=>{var t,n,a,r,o;console.log(e),this.userData=e,this.isReviewing=this.userData.currentStatusId==s.m.Reviewing,this.userSuspended=this.userData.currentStatusId==s.m.Suspended,this.userData.userVehicles.length>0&&(this.userVehicle=this.userData.userVehicles[0]),(null===(n=null===(t=this.userVehicle)||void 0===t?void 0:t.userBoxes)||void 0===n?void 0:n.length)>0&&(this.userBox=null===(a=this.userVehicle)||void 0===a?void 0:a.userBoxes[0]),this.userData.image=this.userData.personalImageName,this.userPersonalPhotosURL=u.a.baseUrl+"/"+this.folderAssetsPath+"/"+this.userTypePath+"/"+this.userData.id+"/"+this.folderPersonalPhotosPath+"/"+this.userData.image,this.driverNationalNumberPhotosURL=u.a.baseUrl+"/"+this.folderAssetsPath+"/"+this.userTypePath+"/"+this.userData.id+"/"+this.folderNationalNumberPhotosPath+"/"+this.userData.nationalNumberImageName,(null===(r=this.userVehicle)||void 0===r?void 0:r.licenseImageName)&&(this.driverVehicleLicensePhotosURL=u.a.baseUrl+"/"+this.folderAssetsPath+"/"+this.userTypePath+"/"+this.userData.id+"/"+this.folderVehicleLicensePhotosPath+"/"+this.userVehicle.licenseImageName),(null===(o=this.userVehicle)||void 0===o?void 0:o.vehicleImageName)&&(this.driverVehiclesPhotosURL=u.a.baseUrl+"/"+this.folderAssetsPath+"/"+this.userTypePath+"/"+this.userData.id+"/"+this.folderVehiclesPhotosPath+"/"+this.userVehicle.vehicleImageName),this.loader.showLoader$.next(!1),this.userData.countryId&&this.loadCities(this.userData.countryId),this.userData.residenceCountryId&&this.loadResidenceCities(this.userData.residenceCountryId)},e=>{this.loader.showLoader$.next(!1),this.error.fire(),setTimeout(()=>{this.router.navigateByUrl("dashboard/drivers")},3e3)})}loadSupportUserData(e){this.userService.getSupportUser(e).pipe(Object(l.b)(this)).subscribe(e=>{this.userData=e,this.userSuspended=this.userData.statusTypeId==s.m.Suspended,this.userPersonalPhotosURL=u.a.baseUrl+"/"+this.folderAssetsPath+"/"+this.userTypePath+"/"+this.userData.id+"/"+this.folderPersonalPhotosPath+"/"+this.userData.image,this.userData.countryId&&this.loadCities(this.userData.countryId),this.userData.residenceCountryId&&this.loadResidenceCities(this.userData.residenceCountryId),this.loader.showLoader$.next(!1)},e=>{this.loader.showLoader$.next(!1),this.error.fire(),setTimeout(()=>{this.router.navigateByUrl("dashboard/drivers")},3e3)})}loadAdminUserData(e){this.userService.getAdminUser(e).pipe(Object(l.b)(this)).subscribe(e=>{this.userData=e,this.userSuspended=this.userData.currentStatusId==s.m.Suspended,this.userPersonalPhotosURL=u.a.baseUrl+"/"+this.folderAssetsPath+"/"+this.userTypePath+"/"+this.userData.id+"/"+this.folderPersonalPhotosPath+"/"+this.userData.image,this.userData.countryId&&this.loadCities(this.userData.countryId),this.userData.residenceCountryId&&this.loadResidenceCities(this.userData.residenceCountryId),this.loader.showLoader$.next(!1)},e=>{this.loader.showLoader$.next(!1),this.error.fire(),setTimeout(()=>{this.router.navigateByUrl("dashboard/drivers")},3e3)})}loadAgentUserData(e){this.agentService.getUser(e).pipe(Object(l.b)(this)).subscribe(e=>{this.userData=e,this.userSuspended=this.userData.statusTypeId==s.m.Suspended,this.userData.currentStatusId==s.m.Reviewing&&(this.isReviewing=!0),this.userPersonalPhotosURL=u.a.baseUrl+"/"+this.folderAssetsPath+"/"+this.userTypePath+"/"+this.userData.id+"/"+this.folderPersonalPhotosPath+"/"+this.userData.image,this.userData.countryId&&this.loadCities(this.userData.countryId),this.loader.showLoader$.next(!1)},e=>{this.loader.showLoader$.next(!1),this.error.fire(),setTimeout(()=>{this.router.navigateByUrl("dashboard/drivers")},3e3)})}loadVehicles(){this.vehicles$=this.systemService.getVehicles()}loadBoxTypes(){this.boxTypes$=this.systemService.getBoxTypes()}loadCountries(){this.countries$=this.residenceCountries$=this.systemService.getCountries()}loadResidenceCities(e){this.residenceCities$=this.systemService.getCities(e)}loadCities(e){this.cities$=this.systemService.getCities(e)}birthCountryChange(e){this.loadCities(e.target.value)}residenceCountryChange(e){this.loadResidenceCities(e.target.value)}vehicleDetails(){}acceptProfile(e,t){this.loader.showLoader$.next(!0),"driver"==this.userType.toLowerCase()?this.userService.acceptRegisteredDriver(this.userData.id).pipe(Object(l.b)(this)).subscribe(e=>{this.loader.showLoader$.next(!1),e?this.router.navigateByUrl("dashboard/drivers"):(this.loader.showLoader$.next(!1),t.fire())},e=>{this.loader.showLoader$.next(!1),t.fire()}):"agent"==this.userType.toLowerCase()&&this.agentService.acceptRegisteredAgent(this.userData.id).pipe(Object(l.b)(this)).subscribe(e=>{this.loader.showLoader$.next(!1),e?this.router.navigateByUrl("dashboard/agents"):(this.loader.showLoader$.next(!1),t.fire())},e=>{this.loader.showLoader$.next(!1),t.fire()})}save(e){"driver"===this.userType.toLowerCase()?this.saveDriverData(e):"support"===this.userType.toLowerCase()?this.saveSupportData(e):"admin"===this.userType.toLowerCase()?this.saveAdminData(e):"agent"===this.userType.toLowerCase()&&this.saveAgentData(e)}saveAgentData(e){this.prepareImagesData(),this.userId>0?this.agentService.updateAgent(this.userData).pipe(Object(l.b)(this)).subscribe(t=>{if(1==t){let t=new Blob;this.formData.append("AgentID",t,this.userId.toString()),this.userService.submitUserPictures(this.formData,this.userType.toLowerCase()).pipe(Object(l.b)(this)).subscribe(t=>{this.loader.showLoader$.next(!1),e.fire()})}}):0===this.userId&&this.agentService.addAgent(this.userData).pipe(Object(l.b)(this)).subscribe(t=>{if(t){this.userId=parseInt(t);let n=new Blob;this.formData.append("AgentID",n,t),this.userService.submitUserPictures(this.formData,this.userType.toLowerCase()).pipe(Object(l.b)(this)).subscribe(t=>{1==t&&this.agentService.acceptRegisteredAgent(this.userId).pipe(Object(l.b)(this)).subscribe(t=>{this.loader.showLoader$.next(!1),e.fire()})})}})}saveAdminData(e){console.log(this.userData),this.prepareImagesData(),this.userId>0?this.userService.updateAdmin(this.userData).pipe(Object(l.b)(this)).subscribe(t=>{if(1==t){let t=new Blob;this.formData.append("AdminID",t,this.userId.toString()),this.userService.submitUserPictures(this.formData,this.userType.toLowerCase()).subscribe(t=>{this.loader.showLoader$.next(!1),e.fire()})}}):0===this.userId&&this.userService.addAdmin(this.userData).pipe(Object(l.b)(this)).subscribe(t=>{if(t){let n=new Blob;this.formData.append("AdminID",n,t.adminId.toString()),this.userService.submitUserPictures(this.formData,this.userType.toLowerCase()).subscribe(t=>{this.loader.showLoader$.next(!1),e.fire()})}})}saveSupportData(e){this.prepareImagesData(),this.userId>0?this.userService.updateSupport(this.userData).pipe(Object(l.b)(this)).subscribe(t=>{if(1==t){let t=new Blob;this.formData.append("SupportID",t,this.userId.toString()),this.userService.submitUserPictures(this.formData,this.userType.toLowerCase()).subscribe(t=>{this.loader.showLoader$.next(!1),e.fire()})}}):0===this.userId&&this.userService.addSupport(this.userData).pipe(Object(l.b)(this)).subscribe(t=>{if(t){let n=new Blob;this.formData.append("SupportID",n,t.supportId.toString()),this.userService.submitUserPictures(this.formData,this.userType.toLowerCase()).subscribe(t=>{this.loader.showLoader$.next(!1),e.fire()})}})}saveDriverData(e){console.log(this.userData)}saveVehicleDetails(){this.userVehicle.userBoxes=new Array,this.userData.userVehicles=new Array,this.userVehicle.userBoxes.push(this.userBox),this.userData.userVehicles.push(this.userVehicle),this.closeModal()}prepareDriverImagesData(){this.formData=new FormData;let e=new Blob;null!=this.userData.personalPhotoFile&&this.formData.append("PersonalPhotos",this.userData.personalPhotoFile,this.userData.personalPhotoFile.name),null!=this.userData.nationalNumberPhotoFile&&this.formData.append("NationalNumberPhotos",this.userData.nationalNumberPhotoFile,this.userData.nationalNumberPhotoFile.name),null!=this.userVehicle.licenseImageFile&&this.formData.append("VehicleLicensePhotos",this.userVehicle.licenseImageFile,this.userVehicle.licenseImageFile.name),null!=this.userVehicle.vehicleImageFile&&this.formData.append("VehiclesPhotos",this.userVehicle.vehicleImageFile,this.userVehicle.vehicleImageFile.name),this.formData.append("UserID",e,this.userId.toString())}prepareImagesData(){this.formData=new FormData,new Blob,null!=this.userData.personalPhotoFile&&this.formData.append("PersonalPhotos",this.userData.personalPhotoFile,this.userData.personalPhotoFile.name)}stopUserChange(e,t){this.loader.showLoader$.next(!0);let n=new s.l;n.userType=this.userType,n.userId=this.userId,n.statusTypeId=1==e.target.checked?s.m.Stopped:s.m.Working,this.systemService.changeUserStatus(n).pipe(Object(l.b)(this)).subscribe(e=>{this.loader.showLoader$.next(!1),1==e&&t.fire()})}suspendUserChange(e,t){this.loader.showLoader$.next(!0);let n=new s.l;n.userType=this.userType,n.userId=this.userId,n.statusTypeId=1==e.target.checked?s.m.Suspended:s.m.Working,this.systemService.changeUserStatus(n).pipe(Object(l.b)(this)).subscribe(e=>{this.loader.showLoader$.next(!1),1==e&&t.fire()})}onVehiclePictureChange(e){if(!e||!e.target||!e.target.files||0===e.target.files.length)return;const t=e.target.files[0],n=t.type.split("/")[1],a="VP_"+Math.floor((new Date).valueOf()*Math.random())+"."+n;this.userVehicle.vehicleImageName=a,this.userVehicle.vehicleImageFile=new File([t],a,{type:t.type});const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{this.driverVehiclesPhotosURL=`${r.result}`}}onLicensePictureChange(e){if(!e||!e.target||!e.target.files||0===e.target.files.length)return;const t=e.target.files[0],n=t.type.split("/")[1],a="LP_"+Math.floor((new Date).valueOf()*Math.random())+"."+n;this.userVehicle.licenseImageName=a,this.userVehicle.licenseImageFile=new File([t],a,{type:t.type});const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{this.driverVehicleLicensePhotosURL=`${r.result}`}}onNationalNumberPhotoChange(e){if(!e||!e.target||!e.target.files||0===e.target.files.length)return;const t=e.target.files[0],n=t.type.split("/")[1],a="NNP_"+Math.floor((new Date).valueOf()*Math.random())+"."+n;this.userData.nationalNumberImageName=a,this.userData.nationalNumberPhotoFile=new File([t],a,{type:t.type});const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{this.driverNationalNumberPhotosURL=`${r.result}`}}onPersonalPhotoChange(e){if(!e||!e.target||!e.target.files||0===e.target.files.length)return;const t=e.target.files[0],n=t.type.split("/")[1],a="PP_"+Math.floor((new Date).valueOf()*Math.random())+"."+n;this.userData.image=a,this.userData.personalPhotoFile=new File([t],a,{type:t.type});const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{this.userPersonalPhotosURL=`${r.result}`}}onDriverPersonalPhotoChange(e){if(!e||!e.target||!e.target.files||0===e.target.files.length)return;const t=e.target.files[0],n=t.type.split("/")[1],a="PP_"+Math.floor((new Date).valueOf()*Math.random())+"."+n;this.userData.personalImageName=a,this.userData.personalPhotoFile=new File([t],a,{type:t.type});const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{this.userPersonalPhotosURL=`${r.result}`}}openPersonalPhotoFileInput(e){const t=e.target,n=t.nextElementSibling;n.click(),n.getAttribute("name"),n.addEventListener("change",e=>{"driver"===this.userType.toLowerCase()?this.onDriverPersonalPhotoChange(e):this.onPersonalPhotoChange(e),t.value=e.target.files[0].name,t.blur()})}openNationalNumberFileInput(e){const t=e.target,n=t.nextElementSibling;n.click(),n.getAttribute("name"),n.addEventListener("change",e=>{this.onNationalNumberPhotoChange(e),t.value=e.target.files[0].name,t.blur()})}openLicensePictureFileInput(e){const t=e.target,n=t.nextElementSibling;n.click(),n.getAttribute("name"),n.addEventListener("change",e=>{this.onLicensePictureChange(e),t.value=e.target.files[0].name,t.blur()})}openVehiclePictureFileInput(e){const t=e.target,n=t.nextElementSibling;n.click(),n.getAttribute("name"),n.addEventListener("change",e=>{this.onVehiclePictureChange(e),t.value=e.target.files[0].name,t.blur()})}openNationalNumberPhotoInput(){this.nationalNumberPhotoInput.nativeElement.click()}openImageModal(e){let t=e.target.src;this.showImageModal=!0,setTimeout(()=>{this.imageModal.imageSrc=t,this.imageModal.headerBgColor="bg-info",this.imageModal.buttonBgColor="btn-info",this.imageModal.buttonBorderColor="btn-outline-info"},100)}openModal(){this.modal.showModal=!0}closeModal(){this.modal.showModal=!1}failPersonalImageLoading(e){e.target.src="../../../../../../assets/images/user.png"}failLicenseImageLoading(e){e.target.src="../../../../../../assets/images/license.png"}};return e.\u0275fac=function(t){return new(t||e)(d.Tb(h.a),d.Tb(b.a),d.Tb(g.a),d.Tb(M),d.Tb(y.a),d.Tb(o.a),d.Tb(v.d),d.Tb(o.c))},e.\u0275cmp=d.Nb({type:e,selectors:[["app-user"]],viewQuery:function(e,t){if(1&e&&(d.Qc(L,1),d.Qc(Y,1),d.Qc(Z,1),d.Qc(N,1),d.Qc(S,1),d.Qc(T,1)),2&e){let e;d.Bc(e=d.hc())&&(t.error=e.first),d.Bc(e=d.hc())&&(t.imageModal=e.first),d.Bc(e=d.hc())&&(t.modal=e.first),d.Bc(e=d.hc())&&(t.nationalNumberPhotoInput=e.first),d.Bc(e=d.hc())&&(t.ngxdp1=e.first),d.Bc(e=d.hc())&&(t.ngxdp2=e.first)}},decls:81,vars:69,consts:[[1,"py-4"],[1,"row"],[1,"my-2","col-xl-8","col-md-7"],[1,"card"],[1,"card-header","card-header-shadow","gradient-default","text-white","border-0","inside-card"],[1,"font-weight-normal","mb-2","text-capitalize"],["class","card-text mb-1",4,"ngIf"],[1,"card-body"],["class","form-group col-xl-6 col-md-12",4,"ngIf"],[1,"form-group","col-xl-6","col-md-12"],[1,"text-capitalize","d-flex"],["type","text","name","fullname",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-capitalize"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["name","city",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","mobile",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","address",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group col-xl-6 col-md-12 d-none",4,"ngIf"],["class","form-group col-12 my-3",4,"ngIf"],["class","col-md-12 d-flex justify-content-center",4,"ngIf"],["class","col-md-12 d-flex justify-content-center mt-4",4,"ngIf"],[1,"avatarr","col-xl-4","col-md-5"],["class","avatar",4,"ngIf"],[1,"card-title","text-center"],[1,"data","my-3"],[1,"part","my-2","px-3"],[1,"far","fa-at"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-phone-alt"],["class","card mt-4",4,"ngIf"],["timer","3000","timerProgressBar","true","icon","success","position","top-end",3,"toast","showConfirmButton","title"],["successedSave",""],["OperationSucceeded",""],["timer","3000","timerProgressBar","true","icon","error","position","top-end",3,"toast","showConfirmButton","title"],["error",""],[3,"component",4,"ngIf"],[4,"ngIf"],[1,"card-text","mb-1"],["type","text","name","id",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","nationalNumber",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","commercialRegistrationNumber",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","website",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],["name","gender",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-xl-6","col-md-12","d-none"],["type","text",1,"form-control",3,"click"],["nationalNumberPhotoInput",""],["type","file","name","nationalNumberPhoto",1,"form-control","d-none",3,"change"],[1,"form-group","col-12","my-3"],[1,"form-check-for-android"],["type","checkbox","id","suspendUser","name","suspendUser",1,"form-check-android",3,"ngModel","ngModelChange","change"],["for","suspendUser",1,"form-check-android-label","mx-0"],["for","suspendUser",1,"mx-3"],[1,"btn","btn-warning","text-capitalize",3,"click"],[1,"col-md-12","d-flex","justify-content-center"],[1,"btn","btn-success","text-capitalize",3,"click"],[1,"col-md-12","d-flex","justify-content-center","mt-4"],[1,"avatar"],["src","../../../../../../assets/images/user.png","alt","",3,"mouseenter","click"],[1,"change-photo-container"],[1,"btn","btn-default","text-uppercase",3,"click"],["type","file",1,"d-none"],["matTooltipPosition","above","matTooltipClass","text-capitalize",1,"fas","fa-eye-slash",3,"matTooltip","click"],["alt","",3,"src","mouseenter","click","error"],[1,"card","mt-4"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fas","fa-id-card","bg-danger"],[1,"text-capitalize","mx-2"],[1,"card-body","mat-card-body"],["class","img-fluid national-photo","src","../../../../../../assets/images/license.png","alt","",3,"click","error",4,"ngIf"],["class","img-fluid national-photo","alt","",3,"src","click","error",4,"ngIf"],[1,"change-national-photo-container","text-center","mt-3","mb-2"],["src","../../../../../../assets/images/license.png","alt","",1,"img-fluid","national-photo",3,"click","error"],["alt","",1,"img-fluid","national-photo",3,"src","click","error"],[3,"component"],["imageModal",""],["modal",""],[1,"header"],[1,"m-0","text-capitalize"],[1,"body"],["type","text",1,"form-control",3,"value","click"],["type","file","name","vehiclePicture",1,"form-control","d-none",3,"change"],["class","lic-img mt-2",4,"ngIf"],["type","file","name","licensePicture",1,"form-control","d-none",3,"change"],["type","text","name","licenseNumber",1,"form-control",3,"ngModel","ngModelChange"],["name","vehicleType",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","vehicleModel",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","plateNumber",1,"form-control",3,"ngModel","ngModelChange"],["name","boxType",1,"form-control",3,"ngModel","ngModelChange"],[1,"footer"],[1,"buttons","d-flex","justify-content-center"],["type","button","class","btn btn-primary text-uppercase mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","text-uppercase","mx-1",3,"click"],[1,"lic-img","mt-2"],["src","https://www.mbusa.com/content/dam/mb-nafta/us/myco/my21/gla/all-vehicles/2021-GLA250-AMG-LINE-SUV-AVP-DR.png","alt","",1,"img-fluid",3,"click"],["alt","",1,"img-fluid",3,"src","click"],["src","../../../../../../assets/images/user.png","alt","",1,"img-fluid",3,"click"],["type","button",1,"btn","btn-primary","text-uppercase","mx-1",3,"click"]],template:function(e,t){1&e&&(d.Zb(0,"div",0),d.Zb(1,"div",1),d.Zb(2,"div",2),d.Zb(3,"div",3),d.Zb(4,"div",4),d.Zb(5,"h2",5),d.Lc(6),d.lc(7,"translate"),d.lc(8,"translate"),d.lc(9,"translate"),d.Yb(),d.Kc(10,U,3,3,"p",6),d.Kc(11,V,3,3,"p",6),d.Kc(12,j,3,3,"p",6),d.Yb(),d.Zb(13,"div",7),d.Zb(14,"form",1),d.Kc(15,A,5,4,"div",8),d.Zb(16,"div",9),d.Zb(17,"label",10),d.Lc(18),d.lc(19,"translate"),d.lc(20,"translate"),d.Yb(),d.Zb(21,"input",11),d.gc("ngModelChange",function(e){return t.userData.fullname=e}),d.Yb(),d.Yb(),d.Kc(22,q,5,4,"div",8),d.Kc(23,B,5,4,"div",8),d.Zb(24,"div",9),d.Zb(25,"label",12),d.Lc(26),d.lc(27,"translate"),d.Yb(),d.Zb(28,"input",13),d.gc("ngModelChange",function(e){return t.userData.email=e}),d.Yb(),d.Yb(),d.Kc(29,R,5,4,"div",8),d.Zb(30,"div",9),d.Zb(31,"label",12),d.Lc(32),d.lc(33,"translate"),d.Yb(),d.Zb(34,"select",14),d.gc("ngModelChange",function(e){return t.userData.cityId=e}),d.Kc(35,E,2,2,"option",15),d.Yb(),d.Yb(),d.Zb(36,"div",9),d.Zb(37,"label",12),d.Lc(38),d.lc(39,"translate"),d.Yb(),d.Zb(40,"input",16),d.gc("ngModelChange",function(e){return t.userData.mobile=e}),d.Yb(),d.Yb(),d.Kc(41,$,11,12,"div",8),d.Zb(42,"div",9),d.Zb(43,"label",12),d.Lc(44),d.lc(45,"translate"),d.Yb(),d.Zb(46,"input",17),d.gc("ngModelChange",function(e){return t.userData.address=e}),d.Yb(),d.Yb(),d.Kc(47,K,7,3,"div",18),d.Kc(48,z,7,4,"div",19),d.Kc(49,X,4,3,"div",8),d.Kc(50,Q,4,3,"div",20),d.Kc(51,W,4,3,"div",21),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Zb(52,"div",22),d.Zb(53,"div",3),d.Kc(54,J,9,8,"div",23),d.Kc(55,G,9,9,"div",23),d.Zb(56,"div",7),d.Zb(57,"h2",24),d.Lc(58),d.Yb(),d.Zb(59,"div",25),d.Zb(60,"div",26),d.Ub(61,"i",27),d.Lc(62),d.Yb(),d.Zb(63,"div",26),d.Ub(64,"i",28),d.Lc(65),d.Yb(),d.Zb(66,"div",26),d.Ub(67,"i",29),d.Lc(68),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Kc(69,te,15,8,"div",30),d.Yb(),d.Yb(),d.Yb(),d.Ub(70,"swal",31,32),d.lc(72,"translate"),d.Ub(73,"swal",31,33),d.lc(75,"translate"),d.Ub(76,"swal",34,35),d.lc(78,"translate"),d.Kc(79,ne,2,1,"app-image-modal",36),d.Kc(80,ue,67,54,"app-modal",37)),2&e&&(d.Fb(6),d.Oc(" ",t.userId>0?d.mc(7,45,"shared.edit"):d.mc(8,47,"shared.add")," ",d.mc(9,49,"user."+t.userType)," "),d.Fb(4),d.qc("ngIf",1==t.isReviewing),d.Fb(1),d.qc("ngIf",0==t.userId),d.Fb(1),d.qc("ngIf",t.userId>0),d.Fb(3),d.qc("ngIf","agent"===t.userType),d.Fb(3),d.Oc(" ","agent"!=t.userType?d.mc(19,51,"user.full"):""," ",d.mc(20,53,"user.name")," "),d.Fb(3),d.qc("ngModel",t.userData.fullname),d.Fb(1),d.qc("ngIf","agent"!=t.userType),d.Fb(1),d.qc("ngIf","agent"===t.userType),d.Fb(3),d.Nc("",d.mc(27,55,"user.email")," "),d.Fb(2),d.qc("ngModel",t.userData.email),d.Fb(1),d.qc("ngIf","agent"===t.userType),d.Fb(3),d.Nc("",d.mc(33,57,"user.city")," "),d.Fb(2),d.qc("ngModel",t.userData.cityId),d.Fb(1),d.qc("ngForOf",t.ksaCities),d.Fb(3),d.Mc(d.mc(39,59,"user.mobile")),d.Fb(2),d.qc("ngModel",t.userData.mobile),d.Fb(1),d.qc("ngIf","agent"!=t.userType),d.Fb(3),d.Mc(d.mc(45,61,"user.address")),d.Fb(2),d.qc("ngModel",t.userData.address),d.Fb(1),d.qc("ngIf","driver"==t.userType),d.Fb(1),d.qc("ngIf",0==t.isReviewing),d.Fb(1),d.qc("ngIf","driver"==t.userType),d.Fb(1),d.qc("ngIf",t.isReviewing),d.Fb(1),d.qc("ngIf",0==t.isReviewing),d.Fb(3),d.qc("ngIf",null==t.userData.image),d.Fb(1),d.qc("ngIf",null!=t.userData.image&&""!==t.userData.image),d.Fb(3),d.Mc(t.userData.fullname),d.Fb(4),d.Nc(" ",t.userData.email," "),d.Fb(3),d.Nc(" ",t.userData.address?t.userData.address:"none"," "),d.Fb(3),d.Nc(" ",t.userData.mobile?t.userData.mobile:"null"," "),d.Fb(1),d.qc("ngIf","driver"==t.userType),d.Fb(1),d.rc("title",d.mc(72,63,"user.saveSucceeded")),d.qc("toast",!0)("showConfirmButton",!1),d.Fb(3),d.rc("title",d.mc(75,65,"user.operationSucceeded")),d.qc("toast",!0)("showConfirmButton",!1),d.Fb(3),d.rc("title",d.mc(78,67,"user.somethingWentError")),d.qc("toast",!0)("showConfirmButton",!1),d.Fb(3),d.qc("ngIf",t.showImageModal),d.Fb(1),d.qc("ngIf","driver"===t.userType.toLowerCase()))},directives:[a.l,O.v,O.m,O.n,O.d,O.l,O.o,O.s,a.k,x.a,O.q,O.p,O.u,O.a,_.a,D.a,F],pipes:[v.c,a.b],styles:[".avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.avatar[_ngcontent-%COMP%]   .change-photo-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;padding:15px 15px 0;-webkit-animation:fadeInTop .8s;animation:fadeInTop .8s;display:none}.avatar[_ngcontent-%COMP%]   .change-photo-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:15px;padding:6px 5px;cursor:pointer;transition:.3s}.avatar[_ngcontent-%COMP%]   .change-photo-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{background-color:#e7e7e7}.avatarr[_ngcontent-%COMP%]{margin-top:.5rem}@media (max-width:767px){.avatarr[_ngcontent-%COMP%]{margin-top:70px}}.national-photo[_ngcontent-%COMP%]{cursor:pointer;margin:0 auto;display:block}.lic-img[_ngcontent-%COMP%]{text-align:center;padding:10px 70px}"]}),e=Object(i.a)([Object(l.a)({checkProperties:!0})],e),e})()}];let he=(()=>{class e{}return e.\u0275mod=d.Rb({type:e}),e.\u0275inj=d.Qb({factory:function(t){return new(t||e)},imports:[[o.f.forChild(de)],o.f]}),e})(),be=(()=>{class e{}return e.\u0275mod=d.Rb({type:e}),e.\u0275inj=d.Qb({factory:function(t){return new(t||e)},providers:[],imports:[[a.c,he,r.a]]}),e})()}}]);