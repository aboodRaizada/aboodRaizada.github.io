!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var c=e[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{YlKx:function(i,c,n){"use strict";n.r(c),n.d(c,"CityPriceModule",function(){return B});var r=n("SVse"),a=n("FpXt"),l=n("iInd"),o=n("mrSG"),s=n("0sX0"),b=n("3bzS"),u=n("AytR"),d=n("PSD3"),m=n.n(d),p=n("lJxs"),f=n("8Y7J"),y=n("SOeY"),g=n("TSSN"),h=n("jy+X"),P=n("s7LF"),v=n("Q2Ze"),C=n("e6WT"),Y=n("vrAh"),Z=n("WzhS"),F=n("UhP/"),x=n("Dxy4"),L=["cityInput"],I=function(){return{height:"40px",backgroundColor:"#ddd"}};function k(t,e){1&t&&(f.Zb(0,"div"),f.Ub(1,"ngx-skeleton-loader",24),f.Yb()),2&t&&(f.Fb(1),f.qc("count",5)("theme",f.uc(2,I)))}function w(t,e){1&t&&(f.Zb(0,"td"),f.Zb(1,"span",36),f.Lc(2),f.lc(3,"translate"),f.Yb(),f.Yb()),2&t&&(f.Fb(2),f.Nc(" ",f.mc(3,1,"CitiesPrices.isCurrent")," "))}var N=function(t){return{"bg-lighter":t}};function K(t,e){if(1&t&&(f.Xb(0),f.Zb(1,"tr",35),f.Zb(2,"td"),f.Lc(3),f.Yb(),f.Zb(4,"td"),f.Lc(5),f.Yb(),f.Zb(6,"td"),f.Lc(7),f.lc(8,"translate"),f.Yb(),f.Zb(9,"td"),f.Lc(10),f.lc(11,"translate"),f.Yb(),f.Zb(12,"td"),f.Lc(13),f.lc(14,"translate"),f.Yb(),f.Zb(15,"td"),f.Lc(16),f.lc(17,"translate"),f.Yb(),f.Kc(18,w,4,3,"td",0),f.Yb(),f.Wb()),2&t){var i=e.$implicit,c=f.kc(3);f.Fb(1),f.qc("ngClass",f.vc(16,N,null==i||null==i.cityPrice?null:i.cityPrice.isCurrent)),f.Fb(2),f.Nc(" ","en"===c.currentLang?null==i||null==i.country?null:i.country.name:null==i||null==i.country?null:i.country.arabicName," "),f.Fb(2),f.Nc(" ","en"===c.currentLang?null==i||null==i.city?null:i.city.name:null==i||null==i.city?null:i.city.arabicName," "),f.Fb(2),f.Nc(" ",null!=i&&null!=i.cityPrice&&i.cityPrice.kilometers?null==i||null==i.cityPrice?null:i.cityPrice.kilometers:f.mc(8,8,"CitiesPrices.noRecord")," "),f.Fb(3),f.Nc(" ",null!=i&&null!=i.cityPrice&&i.cityPrice.price?null==i||null==i.cityPrice?null:i.cityPrice.price:f.mc(11,10,"CitiesPrices.noRecord")," "),f.Fb(3),f.Nc(" ",null!=i&&null!=i.cityPrice&&i.cityPrice.extraKilometers?null==i||null==i.cityPrice?null:i.cityPrice.extraKilometers:f.mc(14,12,"CitiesPrices.noRecord")," "),f.Fb(3),f.Nc(" ",null!=i&&null!=i.cityPrice&&i.cityPrice.extraKiloPrice?null==i||null==i.cityPrice?null:i.cityPrice.extraKiloPrice:f.mc(17,14,"CitiesPrices.noRecord")," "),f.Fb(2),f.qc("ngIf",null==i||null==i.cityPrice?null:i.cityPrice.isCurrent)}}function q(t,e){if(1&t&&(f.Zb(0,"div",31),f.Zb(1,"table",32),f.Zb(2,"thead",33),f.Zb(3,"tr"),f.Zb(4,"th"),f.Lc(5),f.lc(6,"translate"),f.Yb(),f.Zb(7,"th"),f.Lc(8),f.lc(9,"translate"),f.Yb(),f.Zb(10,"th"),f.Lc(11),f.lc(12,"translate"),f.Yb(),f.Zb(13,"th"),f.Lc(14),f.lc(15,"translate"),f.Yb(),f.Zb(16,"th"),f.Lc(17),f.lc(18,"translate"),f.Yb(),f.Zb(19,"th"),f.Lc(20),f.lc(21,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Zb(22,"tbody"),f.Kc(23,K,19,18,"ng-container",34),f.Yb(),f.Yb(),f.Yb()),2&t){var i=f.kc(2);f.Fb(5),f.Mc(f.mc(6,7,"CitiesPrices.country")),f.Fb(3),f.Mc(f.mc(9,9,"CitiesPrices.city")),f.Fb(3),f.Mc(f.mc(12,11,"CitiesPrices.kilometers")),f.Fb(3),f.Mc(f.mc(15,13,"CitiesPrices.price")),f.Fb(3),f.Mc(f.mc(18,15,"CitiesPrices.extraKilometers")),f.Fb(3),f.Nc(" ",f.mc(21,17,"CitiesPrices.extraKilometersPrice")," "),f.Fb(3),f.qc("ngForOf",i.citiesPricesResponse)}}function M(t,e){if(1&t&&(f.Zb(0,"div",5),f.Zb(1,"div",25),f.Zb(2,"div",26),f.Ub(3,"i",27),f.Zb(4,"span",28),f.Lc(5),f.lc(6,"translate"),f.Yb(),f.Yb(),f.Yb(),f.Zb(7,"div",29),f.Kc(8,q,24,19,"div",30),f.Yb(),f.Yb()),2&t){var i=f.kc();f.Fb(5),f.Nc(" ",f.mc(6,2,"CitiesPrices.citiesPrices")," "),f.Fb(3),f.qc("ngIf",!i.isLoading)}}function S(t,e){1&t&&(f.Zb(0,"mat-hint"),f.Zb(1,"span",37),f.Lc(2),f.lc(3,"translate"),f.Yb(),f.Yb()),2&t&&(f.Fb(2),f.Nc(" ",f.mc(3,1,"CitiesPrices.selectFromSelections")," "))}function O(t,e){if(1&t&&(f.Zb(0,"mat-option",38),f.Zb(1,"span",39),f.Lc(2),f.Yb(),f.Yb()),2&t){var i=e.$implicit,c=f.kc();f.qc("value",i),f.Fb(2),f.Nc(" ","en"===c.currentLang?i.name:i.arabicName," ")}}function A(t,e){if(1&t){var i=f.ac();f.Zb(0,"button",40),f.gc("click",function(){return f.Ec(i),f.kc().clearCityValue()}),f.Ub(1,"i",41),f.Yb()}}function j(t,e){if(1&t){var i=f.ac();f.Zb(0,"div",42),f.Zb(1,"button",43),f.gc("click",function(){return f.Ec(i),f.kc().save()}),f.Lc(2),f.lc(3,"translate"),f.Yb(),f.Yb()}2&t&&(f.Fb(2),f.Nc(" ",f.mc(3,1,"CitiesPrices.save")," "))}var R,z,E,W=[{path:"",component:(R=function(){function i(e,c,n){t(this,i),this.systemService=e,this.translate=c,this.loader=n,this.currentLang="ar"===localStorage.getItem("sender-manage-lang")?"ar":"en",this.matInputAppearance=u.a.inputsStyleAppearance,this.matInputsColor=u.a.inputsStyleColor,this.isLoading=!1,this.cityPrice=new s.e,this.filteredCitiesOptions=[]}var c,n,r;return c=i,(n=[{key:"ngOnInit",value:function(){this.loadCities(),this.loadData(),this.getCurrentLang()}},{key:"getCurrentLang",value:function(){var t=this;this.translate.onLangChange.pipe(Object(b.b)(this)).subscribe(function(e){t.currentLang="ar"===e.lang?"ar":"en"})}},{key:"loadData",value:function(){var t=this;this.isLoading=!0,this.systemService.getCitiesPrices().pipe(Object(b.b)(this),Object(p.a)(function(t){return t.sort(function(t,e){return t.country.id<e.country.id?-1:t.country.id>e.country.id?1:void 0}),t.sort(function(t,e){return t.city.id<e.city.id?-1:t.city.id>e.city.id?1:void 0}),t})).subscribe(function(e){t.citiesPricesResponse=e,t.isLoading=!1})}},{key:"loadCities",value:function(){var t=this;this.systemService.getCities(192).subscribe(function(e){return t.cities=e})}},{key:"filteringCities",value:function(t){var e=t.value;this.filteredCitiesOptions=this.cities.filter(function(t){return-1!==t.name.toLowerCase().indexOf(e)||-1!==t.arabicName.toLowerCase().indexOf(e)})}},{key:"selectedCity",value:function(t){this.cityPrice.cityId=t.option.value.id}},{key:"displayFnEn",value:function(t){return t&&t.name}},{key:"displayFnAr",value:function(t){return t&&t.arabicName}},{key:"clearCityValue",value:function(){this.cityPrice.cityId=null,this.cityInput.nativeElement.value=null}},{key:"save",value:function(){var t=this;this.loader.showLoader$.next(!0),this.systemService.addCitiesPrices(this.cityPrice).pipe(Object(b.b)(this)).subscribe(function(e){e&&(t.loader.showLoader$.next(!1),m.a.fire({title:"".concat(t.translate.instant("CountriesPrices.saveSucceeded")),toast:!0,showConfirmButton:!1,timer:5e3,timerProgressBar:!0,icon:"success",position:"en"===t.currentLang?"top-right":"top-left"}),t.cityPrice=new s.e,t.clearCityValue(),t.loadData())},function(e){t.loader.showLoader$.next(!1),m.a.fire({title:"".concat(t.translate.instant("shared.somethingWentWrong")),toast:!0,showConfirmButton:!1,timer:5e3,timerProgressBar:!0,icon:"error",position:"en"===t.currentLang?"top-right":"top-left"})})}}])&&e(c.prototype,n),r&&e(c,r),i}(),R.\u0275fac=function(t){return new(t||R)(f.Tb(y.a),f.Tb(g.d),f.Tb(h.a))},R.\u0275cmp=f.Nb({type:R,selectors:[["app-city-price"]],viewQuery:function(t,e){var i;1&t&&f.Qc(L,1),2&t&&f.Bc(i=f.hc())&&(e.cityInput=i.first)},decls:52,vars:43,consts:[[4,"ngIf"],["class","card",4,"ngIf"],[1,"py-4"],[1,"row"],[1,"my-2","col-12"],[1,"card"],[1,"card-header","card-header-shadow","gradient-default","text-white","border-0","inside-card"],[1,"font-weight-normal","mb-2","text-capitalize"],[1,"card-text","mb-1"],[1,"card-body"],[1,"form-group","col-12","col-md-6","col-lg-4"],[1,"w-100","text-capitalize",3,"appearance","color"],["type","text","matInput","",3,"matAutocomplete","keyup"],["cityInput",""],[3,"displayWith","optionSelected"],["citiesAutoComplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"text-capitalize","w-100",3,"appearance","color"],["type","number","matInput","","name","kilometers",3,"ngModel","ngModelChange"],["type","number","matInput","","name","price",3,"ngModel","ngModelChange"],["type","number","matInput","","name","extraKilometers",3,"ngModel","ngModelChange"],["type","number","matInput","","name","extraKiloPrice",3,"ngModel","ngModelChange"],["class","col-md-12 d-flex justify-content-center",4,"ngIf"],["animation","progress",3,"count","theme"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fad","fa-funnel-dollar","bg-info"],[1,"text-capitalize","mx-2"],[1,"card-body","mat-card-body"],["class","table-responsive mat-elevation-z2 my-2",4,"ngIf"],[1,"table-responsive","mat-elevation-z2","my-2"],[1,"table"],[1,"text-capitalize"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"text-muted","table-success","radius-35px","px-4","py-2"],[1,"text-danger","h6"],[3,"value"],[1,"text-default","mx-2"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"fa","fa-times","text-danger"],[1,"col-md-12","d-flex","justify-content-center"],[1,"btn","btn-success","text-capitalize",3,"click"]],template:function(t,e){if(1&t){var i=f.ac();f.Kc(0,k,2,3,"div",0),f.Kc(1,M,9,4,"div",1),f.Zb(2,"div",2),f.Zb(3,"div",3),f.Zb(4,"div",4),f.Zb(5,"div",5),f.Zb(6,"div",6),f.Zb(7,"h3",7),f.Lc(8),f.lc(9,"translate"),f.Yb(),f.Zb(10,"p",8),f.Lc(11),f.lc(12,"translate"),f.Yb(),f.Yb(),f.Zb(13,"div",9),f.Zb(14,"form",3),f.Zb(15,"div",10),f.Zb(16,"mat-form-field",11),f.Zb(17,"mat-label"),f.Lc(18),f.lc(19,"translate"),f.Yb(),f.Zb(20,"input",12,13),f.gc("keyup",function(){f.Ec(i);var t=f.Cc(21);return e.filteringCities(t)}),f.Yb(),f.Kc(22,S,4,3,"mat-hint",0),f.Zb(23,"mat-autocomplete",14,15),f.gc("optionSelected",function(t){return e.selectedCity(t)}),f.Kc(25,O,3,2,"mat-option",16),f.Yb(),f.Kc(26,A,2,0,"button",17),f.Yb(),f.Yb(),f.Zb(27,"div",10),f.Zb(28,"mat-form-field",18),f.Zb(29,"mat-label"),f.Lc(30),f.lc(31,"translate"),f.Yb(),f.Zb(32,"input",19),f.gc("ngModelChange",function(t){return e.cityPrice.kilometers=t}),f.Yb(),f.Yb(),f.Yb(),f.Zb(33,"div",10),f.Zb(34,"mat-form-field",18),f.Zb(35,"mat-label"),f.Lc(36),f.lc(37,"translate"),f.Yb(),f.Zb(38,"input",20),f.gc("ngModelChange",function(t){return e.cityPrice.price=t}),f.Yb(),f.Yb(),f.Yb(),f.Zb(39,"div",10),f.Zb(40,"mat-form-field",18),f.Zb(41,"mat-label"),f.Lc(42),f.lc(43,"translate"),f.Yb(),f.Zb(44,"input",21),f.gc("ngModelChange",function(t){return e.cityPrice.extraKilometers=t}),f.Yb(),f.Yb(),f.Yb(),f.Zb(45,"div",10),f.Zb(46,"mat-form-field",18),f.Zb(47,"mat-label"),f.Lc(48),f.lc(49,"translate"),f.Yb(),f.Zb(50,"input",22),f.gc("ngModelChange",function(t){return e.cityPrice.extraKiloPrice=t}),f.Yb(),f.Yb(),f.Yb(),f.Kc(51,j,4,3,"div",23),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Yb(),f.Yb()}if(2&t){var c=f.Cc(24);f.qc("ngIf",e.isLoading),f.Fb(1),f.qc("ngIf",null==e.citiesPricesResponse?null:e.citiesPricesResponse.length),f.Fb(7),f.Nc(" ",f.mc(9,29,"CitiesPrices.addNewPricing")," "),f.Fb(3),f.Nc(" ",f.mc(12,31,"CitiesPrices.writeCarefuly")," "),f.Fb(5),f.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),f.Fb(2),f.Nc(" ",f.mc(19,33,"CitiesPrices.city")," "),f.Fb(2),f.qc("matAutocomplete",c),f.Fb(2),f.qc("ngIf",!e.cityPrice.cityId),f.Fb(1),f.qc("displayWith","en"===e.currentLang?e.displayFnEn:e.displayFnAr),f.Fb(2),f.qc("ngForOf",e.filteredCitiesOptions),f.Fb(1),f.qc("ngIf",e.cityPrice.cityId),f.Fb(2),f.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),f.Fb(2),f.Nc(" ",f.mc(31,35,"CitiesPrices.kilometers")," "),f.Fb(2),f.qc("ngModel",e.cityPrice.kilometers),f.Fb(2),f.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),f.Fb(2),f.Nc(" ",f.mc(37,37,"CitiesPrices.price")," "),f.Fb(2),f.qc("ngModel",e.cityPrice.price),f.Fb(2),f.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),f.Fb(2),f.Nc(" ",f.mc(43,39,"CitiesPrices.extraKilometers")," "),f.Fb(2),f.qc("ngModel",e.cityPrice.extraKilometers),f.Fb(2),f.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),f.Fb(2),f.Nc(" ",f.mc(49,41,"CitiesPrices.extraKilometersPrice")," "),f.Fb(2),f.qc("ngModel",e.cityPrice.extraKiloPrice),f.Fb(1),f.qc("ngIf",e.cityPrice.cityId&&e.cityPrice.kilometers&&e.cityPrice.price&&e.cityPrice.extraKilometers&&e.cityPrice.extraKiloPrice)}},directives:[r.l,P.v,P.m,P.n,v.b,v.f,C.b,Y.c,Y.a,r.k,P.q,P.d,P.l,P.o,Z.a,r.j,v.e,F.j,x.a,v.g],pipes:[g.c],styles:["@media (max-width:1100px){table[_ngcontent-%COMP%]{width:1100px}}"]}),R=Object(o.a)([Object(b.a)({checkProperties:!0})],R))}],T=((E=function e(){t(this,e)}).\u0275mod=f.Rb({type:E}),E.\u0275inj=f.Qb({factory:function(t){return new(t||E)},imports:[[l.f.forChild(W)],l.f]}),E),B=((z=function e(){t(this,e)}).\u0275mod=f.Rb({type:z}),z.\u0275inj=f.Qb({factory:function(t){return new(t||z)},providers:[],imports:[[r.c,T,a.a]]}),z)}}])}();