(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{KmC4:function(t,a,s){"use strict";s.r(a),s.d(a,"ChartsModule",function(){return Z});var r=s("SVse"),e=s("FpXt"),n=s("iInd"),i=s("mrSG"),c=s("3bzS"),o=s("8Y7J"),h=s("TSSN"),l=s("UKws"),d=s("z6cu"),C=s("lJxs"),u=s("JIr8"),b=s("AytR"),g=s("IheW");let p=(()=>{class t{constructor(t){this.httpClient=t}getAgentsChart(){return this.httpClient.get(`${b.a.coreService}/agents/chart`).pipe(Object(C.a)(t=>t),Object(u.a)(t=>Object(d.a)(t)))}getOrdersChart(){return this.httpClient.get(`${b.a.coreService}/orders/charts`).pipe(Object(C.a)(t=>t),Object(u.a)(t=>Object(d.a)(t)))}getDriversChart(){return this.httpClient.get(`${b.a.coreService}/captains/charts`).pipe(Object(C.a)(t=>t),Object(u.a)(t=>Object(d.a)(t)))}}return t.\u0275fac=function(a){return new(a||t)(o.dc(g.b))},t.\u0275prov=o.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=s("WzhS"),m=s("hrfs");let f=(()=>{class t{constructor(){this.chartType="pie",this.chartLegendVisibility=!0,this.chartOptions={title:{fontFamily:"ar"},tooltips:{titleFontFamily:"ar",bodyFontFamily:"ar",footerFontFamily:"ar"},responsive:!0,legend:{labels:{boxWidth:12,padding:20,fontColor:"#222",fontFamily:"ar"},position:"bottom",fullWidth:!1},plugins:{datalabels:{formatter:(t,a)=>a.chart.data.labels[a.dataIndex]}}},this.chartColors=[{backgroundColor:["rgba(0,188,212,0.7)","rgba(76,175,80,0.7)","rgba(233,30,99,0.7)","rgba(255,0,0,0.3)","rgba(0,255,0,0.3)","rgba(0,0,255,0.3)"]}]}ngOnInit(){innerWidth<600&&(this.chartOptions.legend.display=!1)}ngAfterViewInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=o.Nb({type:t,selectors:[["app-pie-chart"]],inputs:{iconBgColor:"iconBgColor",chartTitle:"chartTitle",messageIconClass:"messageIconClass",miniMessage:"miniMessage",chartValues:"chartValues",chartLabels:"chartLabels"},decls:12,vars:12,consts:[[1,"card"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fas","fa-chart-pie"],[1,"text-capitalize","mx-2"],[1,"card-body","mat-card-body"],["baseChart","",3,"data","labels","chartType","options","legend","colors"],[1,"card-footer","text-muted"]],template:function(t,a){1&t&&(o.Zb(0,"div",0),o.Zb(1,"div",1),o.Zb(2,"div",2),o.Ub(3,"i",3),o.Zb(4,"span",4),o.Lc(5),o.Yb(),o.Yb(),o.Yb(),o.Zb(6,"div",5),o.Ub(7,"canvas",6),o.Yb(),o.Zb(8,"div",7),o.Ub(9,"i"),o.Zb(10,"span"),o.Lc(11),o.Yb(),o.Yb(),o.Yb()),2&t&&(o.Fb(3),o.Hb(a.iconBgColor),o.Fb(2),o.Mc(a.chartTitle),o.Fb(2),o.qc("data",a.chartValues)("labels",a.chartLabels)("chartType",a.chartType)("options",a.chartOptions)("legend",a.chartLegendVisibility)("colors",a.chartColors),o.Fb(2),o.Hb(a.messageIconClass),o.Fb(2),o.Nc(" ",a.miniMessage," "))},directives:[m.a],styles:[".card-body[_ngcontent-%COMP%]{overflow:hidden}"]}),t})(),L=(()=>{class t{constructor(){this.chartType="bar",this.chartLegendVisibility=!0,this.chartOptions={responsive:!0,title:{fontFamily:"ar"},tooltips:{bodyFontFamily:"ar",titleFontFamily:"ar",footerFontFamily:"ar",titleFontStyle:"normal",bodyFontStyle:"normal",footerFontStyle:"normal"},legend:{labels:{boxWidth:12,padding:20,fontColor:"#222",fontFamily:"ar"},position:"bottom",fullWidth:!1,display:!1},scales:{xAxes:[{ticks:{fontFamily:"ar"}}],yAxes:[{ticks:{fontFamily:"ar"}}]},plugins:{datalabels:{formatter:(t,a)=>a.chart.data.labels[a.dataIndex]}}},this.chartColors=[{backgroundColor:["rgba(255,0,0,0.3)","rgba(0,255,0,0.3)","rgba(0,0,255,0.3)","rgba(0,188,212,0.7)","rgba(233,30,99,0.7)","rgba(76,175,80,0.7)"]}]}ngOnInit(){innerWidth<600&&(this.chartType="horizontalBar")}ngAfterViewInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=o.Nb({type:t,selectors:[["app-bar-chart"]],inputs:{iconBgColor:"iconBgColor",chartTitle:"chartTitle",messageIconClass:"messageIconClass",miniMessage:"miniMessage",chartValues:"chartValues",chartLabels:"chartLabels"},decls:12,vars:12,consts:[[1,"card"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fas","fa-chart-bar"],[1,"text-capitalize","mx-2"],[1,"card-body","mat-card-body"],["baseChart","",3,"data","labels","chartType","options","legend","colors"],[1,"card-footer","text-muted"]],template:function(t,a){1&t&&(o.Zb(0,"div",0),o.Zb(1,"div",1),o.Zb(2,"div",2),o.Ub(3,"i",3),o.Zb(4,"span",4),o.Lc(5),o.Yb(),o.Yb(),o.Yb(),o.Zb(6,"div",5),o.Ub(7,"canvas",6),o.Yb(),o.Zb(8,"div",7),o.Ub(9,"i"),o.Zb(10,"span"),o.Lc(11),o.Yb(),o.Yb(),o.Yb()),2&t&&(o.Fb(3),o.Hb(a.iconBgColor),o.Fb(2),o.Mc(a.chartTitle),o.Fb(2),o.qc("data",a.chartValues)("labels",a.chartLabels)("chartType",a.chartType)("options",a.chartOptions)("legend",a.chartLegendVisibility)("colors",a.chartColors),o.Fb(2),o.Hb(a.messageIconClass),o.Fb(2),o.Nc(" ",a.miniMessage," "))},directives:[m.a],styles:[".card-body[_ngcontent-%COMP%]{overflow:hidden}"]}),t})();const y=function(){return{height:"300px",backgroundColor:"#ddd"}};function $(t,a){1&t&&(o.Zb(0,"div",6),o.Ub(1,"ngx-skeleton-loader",7),o.Yb()),2&t&&(o.Fb(1),o.qc("count",1)("theme",o.uc(2,y)))}function F(t,a){1&t&&(o.Zb(0,"div",6),o.Ub(1,"ngx-skeleton-loader",7),o.Yb()),2&t&&(o.Fb(1),o.qc("count",1)("theme",o.uc(2,y)))}function w(t,a){1&t&&(o.Zb(0,"div",6),o.Ub(1,"ngx-skeleton-loader",7),o.Yb()),2&t&&(o.Fb(1),o.qc("count",1)("theme",o.uc(2,y)))}function S(t,a){1&t&&(o.Zb(0,"div",6),o.Ub(1,"ngx-skeleton-loader",7),o.Yb()),2&t&&(o.Fb(1),o.qc("count",1)("theme",o.uc(2,y)))}function V(t,a){if(1&t&&(o.Zb(0,"div",8),o.Ub(1,"app-pie-chart",9),o.lc(2,"translate"),o.Yb()),2&t){const t=o.kc();o.Fb(1),o.qc("chartTitle",o.mc(2,3,"charts.ordersChart.ordersCount"))("chartLabels",t.ordersAccChartLabels)("chartValues",t.ordersAccChartValues)}}function I(t,a){if(1&t&&(o.Zb(0,"div",10),o.Ub(1,"app-bar-chart",11),o.lc(2,"translate"),o.Yb()),2&t){const t=o.kc();o.Fb(1),o.qc("chartTitle",o.mc(2,3,"charts.ordersChart.ordersStatus"))("chartLabels",t.ordersStatusChartLabels)("chartValues",t.ordersStatusChartValues)}}function x(t,a){if(1&t&&(o.Zb(0,"div",12),o.Ub(1,"app-pie-chart",13),o.lc(2,"translate"),o.Yb()),2&t){const t=o.kc();o.Fb(1),o.qc("chartTitle",o.mc(2,3,"charts.agentsChart.agentsAcc"))("chartLabels",t.agentsAccChartLabels)("chartValues",t.agentsAccChartValues)}}function T(t,a){if(1&t&&(o.Zb(0,"div",12),o.Ub(1,"app-bar-chart",14),o.lc(2,"translate"),o.Yb()),2&t){const t=o.kc();o.Fb(1),o.qc("chartTitle",o.mc(2,3,"charts.agentsChart.agentsStatus"))("chartLabels",t.agentsStatusChartLabels)("chartValues",t.agentsStatusChartValues)}}function A(t,a){if(1&t&&(o.Zb(0,"div",15),o.Ub(1,"app-pie-chart",16),o.lc(2,"translate"),o.Yb()),2&t){const t=o.kc();o.Fb(1),o.qc("chartTitle",o.mc(2,3,"charts.driversChart.driversAcc"))("chartLabels",t.driversAccChartLabels)("chartValues",t.driversAccChartValues)}}function O(t,a){if(1&t&&(o.Zb(0,"div",15),o.Ub(1,"app-bar-chart",13),o.lc(2,"translate"),o.Yb()),2&t){const t=o.kc();o.Fb(1),o.qc("chartTitle",o.mc(2,3,"charts.driversChart.driversStatus"))("chartLabels",t.driversStatusChartLabels)("chartValues",t.driversStatusChartValues)}}const k=[{path:"",component:(()=>{let t=class{constructor(t,a,s){this.translate=t,this.messageService=a,this.chartService=s,this.isLoading=!1,this.currentLang="ar"===localStorage.getItem("sender-manage-lang")?"ar":"en",this.agentsAccChartLabels=[],this.agentsAccChartValues=[],this.agentsStatusChartLabels=[],this.agentsStatusChartValues=[],this.ordersAccChartLabels=[],this.ordersAccChartValues=[],this.ordersStatusChartLabels=[],this.ordersStatusChartValues=[],this.driversAccChartLabels=[],this.driversAccChartValues=[],this.driversStatusChartLabels=[],this.driversStatusChartValues=[]}ngOnInit(){this.getCurrentLang(),this.getAgentsCharts(),this.getOrdersCharts(),this.getDriversCharts()}getCurrentLang(){this.translate.onLangChange.pipe(Object(c.b)(this)).subscribe(t=>{this.currentLang="ar"===t.lang?"ar":"en",this.agentsAccChartLabels=[`${this.translate.instant("charts.agentsChart.agentsCount")}`,`${this.translate.instant("charts.agentsChart.newCount")}`,`${this.translate.instant("charts.agentsChart.inCompleteCount")}`,`${this.translate.instant("charts.agentsChart.reviewingCount")}`,`${this.translate.instant("charts.agentsChart.completeCount")}`],this.agentsStatusChartLabels=[`${this.translate.instant("charts.agentsChart.workingCount")}`,`${this.translate.instant("charts.agentsChart.readyCount")}`,`${this.translate.instant("charts.agentsChart.progressCount")}`,`${this.translate.instant("charts.agentsChart.penaltyCount")}`,`${this.translate.instant("charts.agentsChart.suspendedCount")}`,`${this.translate.instant("charts.agentsChart.stoppedCount")}`],this.ordersAccChartLabels=[`${this.translate.instant("charts.ordersChart.ordersCount")}`,`${this.translate.instant("charts.ordersChart.newOrders")}`,`${this.translate.instant("charts.ordersChart.canceledCount")}`,`${this.translate.instant("charts.ordersChart.inProgressCount")}`,`${this.translate.instant("charts.ordersChart.endCount")}`],this.ordersStatusChartLabels=[`${this.translate.instant("charts.ordersChart.assignedToCaptainCount")}`,`${this.translate.instant("charts.ordersChart.pickedUpCount")}`,`${this.translate.instant("charts.ordersChart.droppedCount")}`,`${this.translate.instant("charts.ordersChart.deliveredCount")}`],this.driversAccChartLabels=[`${this.translate.instant("charts.driversChart.usersCount")}`,`${this.translate.instant("charts.driversChart.newCount")}`,`${this.translate.instant("charts.driversChart.reviewingCount")}`,`${this.translate.instant("charts.driversChart.completeCount")}`,`${this.translate.instant("charts.driversChart.inCompleteCount")}`],this.driversStatusChartLabels=[`${this.translate.instant("charts.driversChart.workingCount")}`,`${this.translate.instant("charts.driversChart.readyCount")}`,`${this.translate.instant("charts.driversChart.progressCount")}`,`${this.translate.instant("charts.driversChart.penaltyCount")}`,`${this.translate.instant("charts.driversChart.suspendedCount")}`,`${this.translate.instant("charts.driversChart.stoppedCount")}`]})}getAgentsCharts(){this.isLoading=!0,this.chartService.getAgentsChart().pipe(Object(c.b)(this)).subscribe(t=>{this.agentsAccChartLabels=[`${this.translate.instant("charts.agentsChart.agentsCount")}`,`${this.translate.instant("charts.agentsChart.newCount")}`,`${this.translate.instant("charts.agentsChart.inCompleteCount")}`,`${this.translate.instant("charts.agentsChart.reviewingCount")}`,`${this.translate.instant("charts.agentsChart.completeCount")}`],this.agentsAccChartValues=[t.agentsCount,t.newCount,t.inCompleteCount,t.reviewingCount,t.completeCount],this.agentsStatusChartLabels=[`${this.translate.instant("charts.agentsChart.workingCount")}`,`${this.translate.instant("charts.agentsChart.readyCount")}`,`${this.translate.instant("charts.agentsChart.progressCount")}`,`${this.translate.instant("charts.agentsChart.penaltyCount")}`,`${this.translate.instant("charts.agentsChart.suspendedCount")}`,`${this.translate.instant("charts.agentsChart.stoppedCount")}`],this.agentsStatusChartValues=[t.workingCount,t.readyCount,t.progressCount,t.penaltyCount,t.suspendedCount,t.stoppedCount],this.isLoading=!1})}getOrdersCharts(){this.isLoading=!0,this.chartService.getOrdersChart().pipe(Object(c.b)(this)).subscribe(t=>{this.ordersAccChartLabels=[`${this.translate.instant("charts.ordersChart.ordersCount")}`,`${this.translate.instant("charts.ordersChart.newOrders")}`,`${this.translate.instant("charts.ordersChart.canceledCount")}`,`${this.translate.instant("charts.ordersChart.inProgressCount")}`,`${this.translate.instant("charts.ordersChart.endCount")}`],this.ordersAccChartValues=[t.ordersCount,t.newOrders,t.cancelldCount,t.inProgressCount,t.endCount],this.ordersStatusChartLabels=[`${this.translate.instant("charts.ordersChart.assignedToCaptainCount")}`,`${this.translate.instant("charts.ordersChart.pickedUpCount")}`,`${this.translate.instant("charts.ordersChart.droppedCount")}`,`${this.translate.instant("charts.ordersChart.deliveredCount")}`],this.ordersStatusChartValues=[t.assignedToCaptainCount,t.pickedUpCount,t.droppedCount,t.deliveredCount],this.isLoading=!1})}getDriversCharts(){this.isLoading=!0,this.chartService.getDriversChart().pipe(Object(c.b)(this)).subscribe(t=>{this.driversAccChartLabels=[`${this.translate.instant("charts.driversChart.usersCount")}`,`${this.translate.instant("charts.driversChart.newCount")}`,`${this.translate.instant("charts.driversChart.reviewingCount")}`,`${this.translate.instant("charts.driversChart.completeCount")}`,`${this.translate.instant("charts.driversChart.inCompleteCount")}`],this.driversAccChartValues=[t.usersCount,t.newCount,t.reviewingCount,t.completeCount,t.inCompleteCount],this.driversStatusChartLabels=[`${this.translate.instant("charts.driversChart.workingCount")}`,`${this.translate.instant("charts.driversChart.readyCount")}`,`${this.translate.instant("charts.driversChart.progressCount")}`,`${this.translate.instant("charts.driversChart.penaltyCount")}`,`${this.translate.instant("charts.driversChart.suspendedCount")}`,`${this.translate.instant("charts.driversChart.stoppedCount")}`],this.driversStatusChartValues=[t.workingCount,t.readyCount,t.progressCount,t.penaltyCount,t.suspendedCount,t.stoppedCount],this.isLoading=!1})}};return t.\u0275fac=function(a){return new(a||t)(o.Tb(h.d),o.Tb(l.a),o.Tb(p))},t.\u0275cmp=o.Nb({type:t,selectors:[["app-charts"]],decls:11,vars:10,consts:[[1,"row","mt-3"],["class","col-12 col-xl-6",4,"ngIf"],["class","orders-chart col-12 col-xl-6",4,"ngIf"],["class","orders-chart col-12 col-xl-6 mt-5 mt-xl-0",4,"ngIf"],["class","agents-chart col-12 col-xl-6 mt-5",4,"ngIf"],["class","drivers-chart col-12 col-xl-6 mt-5",4,"ngIf"],[1,"col-12","col-xl-6"],["animation","progress",3,"count","theme"],[1,"orders-chart","col-12","col-xl-6"],["iconBgColor","bg-success","miniMessage","last 24 hours","messageIconClass","fal fa-cloud-upload text-success",3,"chartTitle","chartLabels","chartValues"],[1,"orders-chart","col-12","col-xl-6","mt-5","mt-xl-0"],["iconBgColor","bg-rose","miniMessage","last 24 hours","messageIconClass","fal fa-cloud-upload text-success",3,"chartTitle","chartLabels","chartValues"],[1,"agents-chart","col-12","col-xl-6","mt-5"],["iconBgColor","bg-warning","miniMessage","last 24 hours","messageIconClass","fal fa-cloud-upload text-success",3,"chartTitle","chartLabels","chartValues"],["iconBgColor","bg-info","miniMessage","last 24 hours","messageIconClass","fal fa-cloud-upload text-success",3,"chartTitle","chartLabels","chartValues"],[1,"drivers-chart","col-12","col-xl-6","mt-5"],["iconBgColor","bg-default","miniMessage","last 24 hours","messageIconClass","fal fa-cloud-upload text-success",3,"chartTitle","chartLabels","chartValues"]],template:function(t,a){1&t&&(o.Zb(0,"div",0),o.Kc(1,$,2,3,"div",1),o.Kc(2,F,2,3,"div",1),o.Kc(3,w,2,3,"div",1),o.Kc(4,S,2,3,"div",1),o.Kc(5,V,3,5,"div",2),o.Kc(6,I,3,5,"div",3),o.Kc(7,x,3,5,"div",4),o.Kc(8,T,3,5,"div",4),o.Kc(9,A,3,5,"div",5),o.Kc(10,O,3,5,"div",5),o.Yb()),2&t&&(o.Fb(1),o.qc("ngIf",a.isLoading),o.Fb(1),o.qc("ngIf",a.isLoading),o.Fb(1),o.qc("ngIf",a.isLoading),o.Fb(1),o.qc("ngIf",a.isLoading),o.Fb(1),o.qc("ngIf",!a.isLoading),o.Fb(1),o.qc("ngIf",!a.isLoading),o.Fb(1),o.qc("ngIf",!a.isLoading),o.Fb(1),o.qc("ngIf",!a.isLoading),o.Fb(1),o.qc("ngIf",!a.isLoading),o.Fb(1),o.qc("ngIf",!a.isLoading))},directives:[r.l,v.a,f,L],pipes:[h.c],styles:[""]}),t=Object(i.a)([Object(c.a)({checkProperties:!0})],t),t})()}];let Y=(()=>{class t{}return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(a){return new(a||t)},imports:[[n.f.forChild(k)],n.f]}),t})(),Z=(()=>{class t{}return t.\u0275mod=o.Rb({type:t}),t.\u0275inj=o.Qb({factory:function(a){return new(a||t)},providers:[],imports:[[r.c,Y,e.a]]}),t})()}}]);