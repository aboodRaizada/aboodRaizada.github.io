(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{gTmI:function(t,e,n){"use strict";n.r(e),n.d(e,"CountryPriceModule",function(){return R});var r=n("SVse"),c=n("FpXt"),i=n("iInd"),o=n("mrSG"),a=n("0sX0"),s=n("3bzS"),l=n("AytR"),u=n("PSD3"),b=n.n(u),d=n("lJxs"),m=n("8Y7J"),p=n("SOeY"),y=n("TSSN"),g=n("jy+X"),f=n("s7LF"),h=n("Q2Ze"),P=n("e6WT"),C=n("vrAh"),Y=n("WzhS"),Z=n("UhP/"),F=n("Dxy4");const v=["countryInput"],x=function(){return{height:"40px",backgroundColor:"#ddd"}};function I(t,e){1&t&&(m.Zb(0,"div"),m.Ub(1,"ngx-skeleton-loader",24),m.Yb()),2&t&&(m.Fb(1),m.qc("count",5)("theme",m.uc(2,x)))}function L(t,e){1&t&&(m.Zb(0,"td"),m.Zb(1,"span",36),m.Lc(2),m.lc(3,"translate"),m.Yb(),m.Yb()),2&t&&(m.Fb(2),m.Nc(" ",m.mc(3,1,"CountriesPrices.isCurrent")," "))}const w=function(t){return{"bg-lighter":t}};function k(t,e){if(1&t&&(m.Xb(0),m.Zb(1,"tr",35),m.Zb(2,"td"),m.Lc(3),m.Yb(),m.Zb(4,"td"),m.Lc(5),m.lc(6,"translate"),m.Yb(),m.Zb(7,"td"),m.Lc(8),m.lc(9,"translate"),m.Yb(),m.Zb(10,"td"),m.Lc(11),m.lc(12,"translate"),m.Yb(),m.Zb(13,"td"),m.Lc(14),m.lc(15,"translate"),m.Yb(),m.Kc(16,L,4,3,"td",0),m.Yb(),m.Wb()),2&t){const t=e.$implicit,n=m.kc(3);m.Fb(1),m.qc("ngClass",m.vc(15,w,t.countryPrice.isCurrent)),m.Fb(2),m.Nc(" ","en"===n.currentLang?null==t||null==t.country?null:t.country.name:null==t||null==t.country?null:t.country.arabicName," "),m.Fb(2),m.Nc(" ",null!=t&&null!=t.countryPrice&&t.countryPrice.kilometers?null==t||null==t.countryPrice?null:t.countryPrice.kilometers:m.mc(6,7,"CountriesPrices.noRecord")," "),m.Fb(3),m.Nc(" ",null!=t&&null!=t.countryPrice&&t.countryPrice.price?null==t||null==t.countryPrice?null:t.countryPrice.price:m.mc(9,9,"CountriesPrices.noRecord")," "),m.Fb(3),m.Nc(" ",null!=t&&null!=t.countryPrice&&t.countryPrice.extraKilometers?null==t||null==t.countryPrice?null:t.countryPrice.extraKilometers:m.mc(12,11,"CountriesPrices.noRecord")," "),m.Fb(3),m.Nc(" ",null!=t&&null!=t.countryPrice&&t.countryPrice.extraKiloPrice?null==t||null==t.countryPrice?null:t.countryPrice.extraKiloPrice:m.mc(15,13,"CountriesPrices.noRecord")," "),m.Fb(2),m.qc("ngIf",null==t||null==t.countryPrice?null:t.countryPrice.isCurrent)}}function K(t,e){if(1&t&&(m.Zb(0,"div",31),m.Zb(1,"table",32),m.Zb(2,"thead",33),m.Zb(3,"tr"),m.Zb(4,"th"),m.Lc(5),m.lc(6,"translate"),m.Yb(),m.Zb(7,"th"),m.Lc(8),m.lc(9,"translate"),m.Yb(),m.Zb(10,"th"),m.Lc(11),m.lc(12,"translate"),m.Yb(),m.Zb(13,"th"),m.Lc(14),m.lc(15,"translate"),m.Yb(),m.Zb(16,"th"),m.Lc(17),m.lc(18,"translate"),m.Yb(),m.Yb(),m.Yb(),m.Zb(19,"tbody"),m.Kc(20,k,17,17,"ng-container",34),m.Yb(),m.Yb(),m.Yb()),2&t){const t=m.kc(2);m.Fb(5),m.Mc(m.mc(6,6,"CountriesPrices.country")),m.Fb(3),m.Mc(m.mc(9,8,"CountriesPrices.kilometers")),m.Fb(3),m.Mc(m.mc(12,10,"CountriesPrices.price")),m.Fb(3),m.Mc(m.mc(15,12,"CountriesPrices.extraKilometers")),m.Fb(3),m.Nc(" ",m.mc(18,14,"CountriesPrices.extraKilometersPrice")," "),m.Fb(3),m.qc("ngForOf",t.countriesPricesResponse)}}function N(t,e){if(1&t&&(m.Zb(0,"div",5),m.Zb(1,"div",25),m.Zb(2,"div",26),m.Ub(3,"i",27),m.Zb(4,"span",28),m.Lc(5),m.lc(6,"translate"),m.Yb(),m.Yb(),m.Yb(),m.Zb(7,"div",29),m.Kc(8,K,21,16,"div",30),m.Yb(),m.Yb()),2&t){const t=m.kc();m.Fb(5),m.Nc(" ",m.mc(6,2,"CountriesPrices.CountriesPrices")," "),m.Fb(3),m.qc("ngIf",!t.isLoading)}}function q(t,e){1&t&&(m.Zb(0,"mat-hint"),m.Zb(1,"span",37),m.Lc(2),m.lc(3,"translate"),m.Yb(),m.Yb()),2&t&&(m.Fb(2),m.Nc(" ",m.mc(3,1,"CountriesPrices.selectFromSelections")," "))}function M(t,e){if(1&t&&(m.Zb(0,"mat-option",38),m.Zb(1,"span",39),m.Lc(2),m.Yb(),m.Yb()),2&t){const t=e.$implicit,n=m.kc();m.qc("value",t)("disabled",192!==t.id),m.Fb(2),m.Nc(" ","en"===n.currentLang?t.name:t.arabicName," ")}}function S(t,e){if(1&t){const t=m.ac();m.Zb(0,"button",40),m.gc("click",function(){return m.Ec(t),m.kc().clearCountryValue()}),m.Ub(1,"i",41),m.Yb()}}function O(t,e){if(1&t){const t=m.ac();m.Zb(0,"div",42),m.Zb(1,"button",43),m.gc("click",function(){return m.Ec(t),m.kc().save()}),m.Lc(2),m.lc(3,"translate"),m.Yb(),m.Yb()}2&t&&(m.Fb(2),m.Nc(" ",m.mc(3,1,"CountriesPrices.save")," "))}const A=[{path:"",component:(()=>{let t=class{constructor(t,e,n){this.systemService=t,this.translate=e,this.loader=n,this.currentLang="ar"===localStorage.getItem("sender-manage-lang")?"ar":"en",this.matInputAppearance=l.a.inputsStyleAppearance,this.matInputsColor=l.a.inputsStyleColor,this.isLoading=!1,this.countryPrice=new a.f,this.filteredCountriesOptions=[]}ngOnInit(){this.loadCountries(),this.loadData(),this.getCurrentLang(),this.countryPrice.countryId=192}getCurrentLang(){this.translate.onLangChange.pipe(Object(s.b)(this)).subscribe(t=>{this.currentLang="ar"===t.lang?"ar":"en"})}loadData(){this.isLoading=!0,this.systemService.getcountriesPrices().pipe(Object(s.b)(this),Object(d.a)(t=>(t.sort((t,e)=>t.countryPrice.countryId<e.countryPrice.countryId?-1:t.countryPrice.countryId>e.countryPrice.countryId?1:void 0),t))).subscribe(t=>{this.countriesPricesResponse=t,this.isLoading=!1})}loadCountries(){this.systemService.getCountries().subscribe(t=>this.countries=t)}filteringCountries(t){let e=t.value;this.filteredCountriesOptions=this.countries.filter(t=>-1!==t.name.toLowerCase().indexOf(e)||-1!==t.arabicName.toLowerCase().indexOf(e))}selectedCountry(t){this.countryPrice.countryId=t.option.value.id}displayFnEn(t){return t&&t.name}displayFnAr(t){return t&&t.arabicName}clearCountryValue(){this.countryPrice.countryId=null,this.countryInput.nativeElement.value=null}save(){this.loader.showLoader$.next(!0),this.systemService.addCountriesPrices(this.countryPrice).pipe(Object(s.b)(this)).subscribe(t=>{t&&(this.loader.showLoader$.next(!1),b.a.fire({title:`${this.translate.instant("CountriesPrices.saveSucceeded")}`,toast:!0,showConfirmButton:!1,timer:5e3,timerProgressBar:!0,icon:"success",position:"en"===this.currentLang?"top-right":"top-left"}),this.countryPrice=new a.f,this.clearCountryValue(),this.loadData())},t=>{this.loader.showLoader$.next(!1),b.a.fire({title:`${this.translate.instant("shared.somethingWentWrong")}`,toast:!0,showConfirmButton:!1,timer:5e3,timerProgressBar:!0,icon:"error",position:"en"===this.currentLang?"top-right":"top-left"})})}};return t.\u0275fac=function(e){return new(e||t)(m.Tb(p.a),m.Tb(y.d),m.Tb(g.a))},t.\u0275cmp=m.Nb({type:t,selectors:[["app-country-price"]],viewQuery:function(t,e){if(1&t&&m.Qc(v,1),2&t){let t;m.Bc(t=m.hc())&&(e.countryInput=t.first)}},decls:52,vars:44,consts:[[4,"ngIf"],["class","card",4,"ngIf"],[1,"py-4"],[1,"row"],[1,"my-2","col-12"],[1,"card"],[1,"card-header","card-header-shadow","gradient-default","text-white","border-0","inside-card"],[1,"font-weight-normal","mb-2","text-capitalize"],[1,"card-text","mb-1"],[1,"card-body"],[1,"form-group","col-12","col-md-6","col-lg-4"],[1,"w-100","text-capitalize",3,"appearance","color"],["type","text","disabled","","matInput","",3,"value","matAutocomplete","keyup"],["countryInput",""],[3,"displayWith","optionSelected"],["countriesAutoComplete","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["mat-button","","disabled","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"text-capitalize","w-100",3,"appearance","color"],["type","number","matInput","","name","kilometers",3,"ngModel","ngModelChange"],["type","number","matInput","","name","price",3,"ngModel","ngModelChange"],["type","number","matInput","","name","extraKilometers",3,"ngModel","ngModelChange"],["type","number","matInput","","name","extraKiloPrice",3,"ngModel","ngModelChange"],["class","col-md-12 d-flex justify-content-center",4,"ngIf"],["animation","progress",3,"count","theme"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fad","fa-funnel-dollar","bg-info"],[1,"text-capitalize","mx-2"],[1,"card-body","mat-card-body"],["class","table-responsive mat-elevation-z2 my-2",4,"ngIf"],[1,"table-responsive","mat-elevation-z2","my-2"],[1,"table"],[1,"text-capitalize"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"text-muted","table-success","radius-35px","px-4","py-2"],[1,"text-danger","h6"],[3,"value","disabled"],[1,"text-default","mx-2"],["mat-button","","disabled","","matSuffix","","mat-icon-button","",3,"click"],[1,"fa","fa-times","text-danger"],[1,"col-md-12","d-flex","justify-content-center"],[1,"btn","btn-success","text-capitalize",3,"click"]],template:function(t,e){if(1&t){const t=m.ac();m.Kc(0,I,2,3,"div",0),m.Kc(1,N,9,4,"div",1),m.Zb(2,"div",2),m.Zb(3,"div",3),m.Zb(4,"div",4),m.Zb(5,"div",5),m.Zb(6,"div",6),m.Zb(7,"h3",7),m.Lc(8),m.lc(9,"translate"),m.Yb(),m.Zb(10,"p",8),m.Lc(11),m.lc(12,"translate"),m.Yb(),m.Yb(),m.Zb(13,"div",9),m.Zb(14,"form",3),m.Zb(15,"div",10),m.Zb(16,"mat-form-field",11),m.Zb(17,"mat-label"),m.Lc(18),m.lc(19,"translate"),m.Yb(),m.Zb(20,"input",12,13),m.gc("keyup",function(){m.Ec(t);const n=m.Cc(21);return e.filteringCountries(n)}),m.Yb(),m.Kc(22,q,4,3,"mat-hint",0),m.Zb(23,"mat-autocomplete",14,15),m.gc("optionSelected",function(t){return e.selectedCountry(t)}),m.Kc(25,M,3,3,"mat-option",16),m.Yb(),m.Kc(26,S,2,0,"button",17),m.Yb(),m.Yb(),m.Zb(27,"div",10),m.Zb(28,"mat-form-field",18),m.Zb(29,"mat-label"),m.Lc(30),m.lc(31,"translate"),m.Yb(),m.Zb(32,"input",19),m.gc("ngModelChange",function(t){return e.countryPrice.kilometers=t}),m.Yb(),m.Yb(),m.Yb(),m.Zb(33,"div",10),m.Zb(34,"mat-form-field",18),m.Zb(35,"mat-label"),m.Lc(36),m.lc(37,"translate"),m.Yb(),m.Zb(38,"input",20),m.gc("ngModelChange",function(t){return e.countryPrice.price=t}),m.Yb(),m.Yb(),m.Yb(),m.Zb(39,"div",10),m.Zb(40,"mat-form-field",18),m.Zb(41,"mat-label"),m.Lc(42),m.lc(43,"translate"),m.Yb(),m.Zb(44,"input",21),m.gc("ngModelChange",function(t){return e.countryPrice.extraKilometers=t}),m.Yb(),m.Yb(),m.Yb(),m.Zb(45,"div",10),m.Zb(46,"mat-form-field",18),m.Zb(47,"mat-label"),m.Lc(48),m.lc(49,"translate"),m.Yb(),m.Zb(50,"input",22),m.gc("ngModelChange",function(t){return e.countryPrice.extraKiloPrice=t}),m.Yb(),m.Yb(),m.Yb(),m.Kc(51,O,4,3,"div",23),m.Yb(),m.Yb(),m.Yb(),m.Yb(),m.Yb(),m.Yb()}if(2&t){const t=m.Cc(24);m.qc("ngIf",e.isLoading),m.Fb(1),m.qc("ngIf",null==e.countriesPricesResponse?null:e.countriesPricesResponse.length),m.Fb(7),m.Nc(" ",m.mc(9,30,"CountriesPrices.addNewPricing")," "),m.Fb(3),m.Nc(" ",m.mc(12,32,"CountriesPrices.writeCarefuly")," "),m.Fb(5),m.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),m.Fb(2),m.Nc(" ",m.mc(19,34,"CountriesPrices.country")," "),m.Fb(2),m.qc("value","en"===e.currentLang?"Saudi Arabia":"\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629")("matAutocomplete",t),m.Fb(2),m.qc("ngIf",!e.countryPrice.countryId),m.Fb(1),m.qc("displayWith","en"===e.currentLang?e.displayFnEn:e.displayFnAr),m.Fb(2),m.qc("ngForOf",e.filteredCountriesOptions),m.Fb(1),m.qc("ngIf",e.countryPrice.countryId),m.Fb(2),m.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),m.Fb(2),m.Nc(" ",m.mc(31,36,"CountriesPrices.kilometers")," "),m.Fb(2),m.qc("ngModel",e.countryPrice.kilometers),m.Fb(2),m.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),m.Fb(2),m.Nc(" ",m.mc(37,38,"CountriesPrices.price")," "),m.Fb(2),m.qc("ngModel",e.countryPrice.price),m.Fb(2),m.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),m.Fb(2),m.Nc(" ",m.mc(43,40,"CountriesPrices.extraKilometers")," "),m.Fb(2),m.qc("ngModel",e.countryPrice.extraKilometers),m.Fb(2),m.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),m.Fb(2),m.Nc(" ",m.mc(49,42,"CountriesPrices.extraKilometersPrice")," "),m.Fb(2),m.qc("ngModel",e.countryPrice.extraKiloPrice),m.Fb(1),m.qc("ngIf",e.countryPrice.countryId&&e.countryPrice.kilometers&&e.countryPrice.price&&e.countryPrice.extraKilometers&&e.countryPrice.extraKiloPrice)}},directives:[r.l,f.v,f.m,f.n,h.b,h.f,P.b,C.c,C.a,r.k,f.q,f.d,f.l,f.o,Y.a,r.j,h.e,Z.j,F.a,h.g],pipes:[y.c],styles:["@media (max-width:900px){table[_ngcontent-%COMP%]{width:800px}}"]}),t=Object(o.a)([Object(s.a)({checkProperties:!0})],t),t})()}];let j=(()=>{class t{}return t.\u0275mod=m.Rb({type:t}),t.\u0275inj=m.Qb({factory:function(e){return new(e||t)},imports:[[i.f.forChild(A)],i.f]}),t})(),R=(()=>{class t{}return t.\u0275mod=m.Rb({type:t}),t.\u0275inj=m.Qb({factory:function(e){return new(e||t)},providers:[],imports:[[r.c,j,c.a]]}),t})()}}]);