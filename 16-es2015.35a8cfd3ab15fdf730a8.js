(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{J9Wp:function(e,t,n){"use strict";n.r(t),n.d(t,"AgentsPriceModule",function(){return z});var a=n("SVse"),c=n("FpXt"),i=n("iInd"),r=n("mrSG"),l=n("0sX0"),s=n("3bzS"),o=n("AytR"),b=n("PSD3"),g=n.n(b),u=n("lJxs"),d=n("8Y7J"),m=n("SOeY"),p=n("lmAj"),f=n("TSSN"),h=n("jy+X"),P=n("s7LF"),v=n("Q2Ze"),Y=n("e6WT"),Z=n("vrAh"),y=n("Dxy4"),F=n("WzhS"),A=n("UhP/"),x=n("pu8Q");const I=["agentsInput"],L=function(){return{height:"40px",backgroundColor:"#ddd"}};function C(e,t){1&e&&(d.Zb(0,"div"),d.Ub(1,"ngx-skeleton-loader",26),d.Yb()),2&e&&(d.Fb(1),d.qc("count",5)("theme",d.uc(2,L)))}function w(e,t){1&e&&(d.Zb(0,"td"),d.Zb(1,"span",38),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Yb()),2&e&&(d.Fb(2),d.Nc(" ",d.mc(3,1,"AgentsPrices.isCurrent")," "))}const D=function(e){return{"bg-lighter":e}};function K(e,t){if(1&e&&(d.Xb(0),d.Zb(1,"tr",37),d.Zb(2,"td"),d.Lc(3),d.Yb(),d.Zb(4,"td"),d.Lc(5),d.lc(6,"translate"),d.Yb(),d.Zb(7,"td"),d.Lc(8),d.lc(9,"translate"),d.Yb(),d.Zb(10,"td"),d.Lc(11),d.lc(12,"translate"),d.Yb(),d.Zb(13,"td"),d.Lc(14),d.lc(15,"translate"),d.Yb(),d.Kc(16,w,4,3,"td",0),d.Yb(),d.Wb()),2&e){const e=t.$implicit;d.Fb(1),d.qc("ngClass",d.vc(15,D,null==e||null==e.agentDeliveryPrice?null:e.agentDeliveryPrice.isCurrent)),d.Fb(2),d.Nc(" ",null==e?null:e.name," "),d.Fb(2),d.Nc(" ",null!=e&&null!=e.agentDeliveryPrice&&e.agentDeliveryPrice.kilometers?null==e||null==e.agentDeliveryPrice?null:e.agentDeliveryPrice.kilometers:d.mc(6,7,"AgentsPrices.noRecord")," "),d.Fb(3),d.Nc(" ",null!=e&&null!=e.agentDeliveryPrice&&e.agentDeliveryPrice.price?null==e||null==e.agentDeliveryPrice?null:e.agentDeliveryPrice.price:d.mc(9,9,"AgentsPrices.noRecord")," "),d.Fb(3),d.Nc(" ",null!=e&&null!=e.agentDeliveryPrice&&e.agentDeliveryPrice.extraKilometers?null==e||null==e.agentDeliveryPrice?null:e.agentDeliveryPrice.extraKilometers:d.mc(12,11,"AgentsPrices.noRecord")," "),d.Fb(3),d.Nc(" ",null!=e&&null!=e.agentDeliveryPrice&&e.agentDeliveryPrice.extraKiloPrice?null==e||null==e.agentDeliveryPrice?null:e.agentDeliveryPrice.extraKiloPrice:d.mc(15,13,"AgentsPrices.noRecord")," "),d.Fb(2),d.qc("ngIf",null==e||null==e.agentDeliveryPrice?null:e.agentDeliveryPrice.isCurrent)}}function q(e,t){if(1&e&&(d.Zb(0,"div",33),d.Zb(1,"table",34),d.Zb(2,"thead",35),d.Zb(3,"tr"),d.Zb(4,"th"),d.Lc(5),d.lc(6,"translate"),d.Yb(),d.Zb(7,"th"),d.Lc(8),d.lc(9,"translate"),d.Yb(),d.Zb(10,"th"),d.Lc(11),d.lc(12,"translate"),d.Yb(),d.Zb(13,"th"),d.Lc(14),d.lc(15,"translate"),d.Yb(),d.Zb(16,"th"),d.Lc(17),d.lc(18,"translate"),d.Yb(),d.Yb(),d.Yb(),d.Zb(19,"tbody"),d.Kc(20,K,17,17,"ng-container",36),d.Yb(),d.Yb(),d.Yb()),2&e){const e=d.kc(2);d.Fb(5),d.Mc(d.mc(6,6,"AgentsPrices.name")),d.Fb(3),d.Mc(d.mc(9,8,"AgentsPrices.kilometers")),d.Fb(3),d.Mc(d.mc(12,10,"AgentsPrices.price")),d.Fb(3),d.Mc(d.mc(15,12,"AgentsPrices.extraKilometers")),d.Fb(3),d.Nc(" ",d.mc(18,14,"AgentsPrices.extraKilometersPrice")," "),d.Fb(3),d.qc("ngForOf",e.agentsPricesResponse)}}function k(e,t){if(1&e&&(d.Zb(0,"div",5),d.Zb(1,"div",27),d.Zb(2,"div",28),d.Ub(3,"i",29),d.Zb(4,"span",30),d.Lc(5),d.lc(6,"translate"),d.Yb(),d.Yb(),d.Yb(),d.Zb(7,"div",31),d.Kc(8,q,21,16,"div",32),d.Yb(),d.Yb()),2&e){const e=d.kc();d.Fb(5),d.Nc(" ",d.mc(6,2,"AgentsPrices.agentPrices")," "),d.Fb(3),d.qc("ngIf",!e.isLoading)}}function M(e,t){1&e&&(d.Zb(0,"mat-hint"),d.Zb(1,"span",39),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Yb()),2&e&&(d.Fb(2),d.Nc(" ",d.mc(3,1,"AgentsPrices.selectFromSelections")," "))}function N(e,t){1&e&&(d.Zb(0,"mat-option",40),d.Ub(1,"mat-spinner",41),d.Yb())}function S(e,t){if(1&e&&(d.Zb(0,"mat-option",42),d.Zb(1,"span",43),d.Lc(2),d.Yb(),d.Yb()),2&e){const e=t.$implicit;d.qc("value",e),d.Fb(2),d.Nc(" ",e.fullname," ")}}function O(e,t){if(1&e){const e=d.ac();d.Zb(0,"div",44),d.Zb(1,"button",45),d.gc("click",function(){return d.Ec(e),d.kc().save()}),d.Lc(2),d.lc(3,"translate"),d.Yb(),d.Yb()}2&e&&(d.Fb(2),d.Nc(" ",d.mc(3,1,"AgentsPrices.save")," "))}const j=[{path:"",component:(()=>{let e=class{constructor(e,t,n,a){this.systemService=e,this.agentsService=t,this.translate=n,this.loader=a,this.currentLang="ar"===localStorage.getItem("sender-manage-lang")?"ar":"en",this.matInputAppearance=o.a.inputsStyleAppearance,this.matInputsColor=o.a.inputsStyleColor,this.isLoading=!1,this.agentPrice=new l.b,this.filteredAgentsOptions=[],this.agentsIsLoading=!1}ngOnInit(){this.loadData(),this.getCurrentLang()}getCurrentLang(){this.translate.onLangChange.pipe(Object(s.b)(this)).subscribe(e=>{this.currentLang="ar"===e.lang?"ar":"en"})}loadData(){this.isLoading=!0,this.systemService.getAgentsPrices().pipe(Object(s.b)(this),Object(u.a)(e=>(e.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:void 0),e))).subscribe(e=>{this.agentsPricesResponse=e,this.isLoading=!1})}filteringAgents(e){this.agentsIsLoading=!0;let t=e.value;this.agentsService.getAllAgentsByFullName({page:1,numberOfObjectsPerPage:10},t).pipe(Object(s.b)(this)).subscribe(e=>{const n=t.toLowerCase();this.filteredAgentsOptions=e.value.agents.filter(e=>-1!==e.fullname.toLowerCase().indexOf(n)),this.agentsIsLoading=!1})}selectedAgent(e){this.agentPrice.agentId=e.option.value.id}displayFn(e){return e&&e.fullname}clearAgentValue(){this.agentPrice.agentId=null,this.agentsInput.nativeElement.value=null}save(){this.loader.showLoader$.next(!0),this.systemService.addAgentsPrices(this.agentPrice).pipe(Object(s.b)(this)).subscribe(e=>{e&&(this.loader.showLoader$.next(!1),g.a.fire({title:`${this.translate.instant("CountriesPrices.saveSucceeded")}`,toast:!0,showConfirmButton:!1,timer:5e3,timerProgressBar:!0,icon:"success",position:"en"===this.currentLang?"top-right":"top-left"}),this.agentPrice=new l.b,this.clearAgentValue(),this.loadData())},e=>{this.loader.showLoader$.next(!1),g.a.fire({title:`${this.translate.instant("shared.somethingWentWrong")}`,toast:!0,showConfirmButton:!1,timer:5e3,timerProgressBar:!0,icon:"error",position:"en"===this.currentLang?"top-right":"top-left"})})}};return e.\u0275fac=function(t){return new(t||e)(d.Tb(m.a),d.Tb(p.a),d.Tb(f.d),d.Tb(h.a))},e.\u0275cmp=d.Nb({type:e,selectors:[["app-agents-price"]],viewQuery:function(e,t){if(1&e&&d.Qc(I,1),2&e){let e;d.Bc(e=d.hc())&&(t.agentsInput=e.first)}},decls:54,vars:43,consts:[[4,"ngIf"],["class","card",4,"ngIf"],[1,"py-4"],[1,"row"],[1,"my-2","col-12"],[1,"card"],[1,"card-header","card-header-shadow","gradient-default","text-white","border-0","inside-card"],[1,"font-weight-normal","mb-2","text-capitalize"],[1,"card-text","mb-1"],[1,"card-body"],[1,"form-group","col-12","col-md-6","col-lg-4"],[1,"w-100","text-capitalize",3,"appearance","color"],["type","text","matInput","",3,"matAutocomplete","keyup.enter"],["agentsInput",""],[3,"displayWith","optionSelected"],["agentsAutoComplete","matAutocomplete"],["disabled","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"fa","fa-search","text-default"],[1,"text-capitalize","w-100",3,"appearance","color"],["type","number","matInput","","name","kilometers",3,"ngModel","ngModelChange"],["type","number","matInput","","name","price",3,"ngModel","ngModelChange"],["type","number","matInput","","name","extraKilometers",3,"ngModel","ngModelChange"],["type","number","matInput","","name","extraKiloPrice",3,"ngModel","ngModelChange"],["class","col-md-12 d-flex justify-content-center",4,"ngIf"],["animation","progress",3,"count","theme"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fad","fa-funnel-dollar","bg-info"],[1,"text-capitalize","mx-2"],[1,"card-body","mat-card-body"],["class","table-responsive mat-elevation-z2 my-2",4,"ngIf"],[1,"table-responsive","mat-elevation-z2","my-2"],[1,"table"],[1,"text-capitalize"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"text-muted","table-success","radius-35px","px-4","py-2"],[1,"text-danger","h6"],["disabled",""],["diameter","30"],[3,"value"],[1,"text-default","mx-2"],[1,"col-md-12","d-flex","justify-content-center"],[1,"btn","btn-success","text-capitalize",3,"click"]],template:function(e,t){if(1&e){const e=d.ac();d.Kc(0,C,2,3,"div",0),d.Kc(1,k,9,4,"div",1),d.Zb(2,"div",2),d.Zb(3,"div",3),d.Zb(4,"div",4),d.Zb(5,"div",5),d.Zb(6,"div",6),d.Zb(7,"h3",7),d.Lc(8),d.lc(9,"translate"),d.Yb(),d.Zb(10,"p",8),d.Lc(11),d.lc(12,"translate"),d.Yb(),d.Yb(),d.Zb(13,"div",9),d.Zb(14,"form",3),d.Zb(15,"div",10),d.Zb(16,"mat-form-field",11),d.Zb(17,"mat-label"),d.Lc(18),d.lc(19,"translate"),d.Yb(),d.Zb(20,"input",12,13),d.gc("keyup.enter",function(){d.Ec(e);const n=d.Cc(21);return t.filteringAgents(n)}),d.Yb(),d.Kc(22,M,4,3,"mat-hint",0),d.Zb(23,"mat-autocomplete",14,15),d.gc("optionSelected",function(e){return t.selectedAgent(e)}),d.Kc(25,N,2,0,"mat-option",16),d.Kc(26,S,3,2,"mat-option",17),d.Yb(),d.Zb(27,"button",18),d.gc("click",function(){d.Ec(e);const n=d.Cc(21);return t.filteringAgents(n)}),d.Ub(28,"i",19),d.Yb(),d.Yb(),d.Yb(),d.Zb(29,"div",10),d.Zb(30,"mat-form-field",20),d.Zb(31,"mat-label"),d.Lc(32),d.lc(33,"translate"),d.Yb(),d.Zb(34,"input",21),d.gc("ngModelChange",function(e){return t.agentPrice.kilometers=e}),d.Yb(),d.Yb(),d.Yb(),d.Zb(35,"div",10),d.Zb(36,"mat-form-field",20),d.Zb(37,"mat-label"),d.Lc(38),d.lc(39,"translate"),d.Yb(),d.Zb(40,"input",22),d.gc("ngModelChange",function(e){return t.agentPrice.price=e}),d.Yb(),d.Yb(),d.Yb(),d.Zb(41,"div",10),d.Zb(42,"mat-form-field",20),d.Zb(43,"mat-label"),d.Lc(44),d.lc(45,"translate"),d.Yb(),d.Zb(46,"input",23),d.gc("ngModelChange",function(e){return t.agentPrice.extraKilometers=e}),d.Yb(),d.Yb(),d.Yb(),d.Zb(47,"div",10),d.Zb(48,"mat-form-field",20),d.Zb(49,"mat-label"),d.Lc(50),d.lc(51,"translate"),d.Yb(),d.Zb(52,"input",24),d.gc("ngModelChange",function(e){return t.agentPrice.extraKiloPrice=e}),d.Yb(),d.Yb(),d.Yb(),d.Kc(53,O,4,3,"div",25),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb(),d.Yb()}if(2&e){const e=d.Cc(24);d.qc("ngIf",t.isLoading),d.Fb(1),d.qc("ngIf",null==t.agentsPricesResponse?null:t.agentsPricesResponse.length),d.Fb(7),d.Nc(" ",d.mc(9,29,"AgentsPrices.addNewPricing")," "),d.Fb(3),d.Nc(" ",d.mc(12,31,"AgentsPrices.writeCarefuly")," "),d.Fb(5),d.qc("appearance",t.matInputAppearance)("color",t.matInputsColor),d.Fb(2),d.Nc(" ",d.mc(19,33,"AgentsPrices.name")," "),d.Fb(2),d.qc("matAutocomplete",e),d.Fb(2),d.qc("ngIf",!t.agentPrice.agentId),d.Fb(1),d.qc("displayWith",t.displayFn),d.Fb(2),d.qc("ngIf",t.agentsIsLoading),d.Fb(1),d.qc("ngForOf",t.filteredAgentsOptions),d.Fb(4),d.qc("appearance",t.matInputAppearance)("color",t.matInputsColor),d.Fb(2),d.Nc(" ",d.mc(33,35,"AgentsPrices.kilometers")," "),d.Fb(2),d.qc("ngModel",t.agentPrice.kilometers),d.Fb(2),d.qc("appearance",t.matInputAppearance)("color",t.matInputsColor),d.Fb(2),d.Nc(" ",d.mc(39,37,"AgentsPrices.price")," "),d.Fb(2),d.qc("ngModel",t.agentPrice.price),d.Fb(2),d.qc("appearance",t.matInputAppearance)("color",t.matInputsColor),d.Fb(2),d.Nc(" ",d.mc(45,39,"AgentsPrices.extraKilometers")," "),d.Fb(2),d.qc("ngModel",t.agentPrice.extraKilometers),d.Fb(2),d.qc("appearance",t.matInputAppearance)("color",t.matInputsColor),d.Fb(2),d.Nc(" ",d.mc(51,41,"AgentsPrices.extraKilometersPrice")," "),d.Fb(2),d.qc("ngModel",t.agentPrice.extraKiloPrice),d.Fb(1),d.qc("ngIf",t.agentPrice.agentId&&t.agentPrice.kilometers&&t.agentPrice.price&&t.agentPrice.extraKilometers&&t.agentPrice.extraKiloPrice)}},directives:[a.l,P.v,P.m,P.n,v.b,v.f,Y.b,Z.c,Z.a,a.k,y.a,v.g,P.q,P.d,P.l,P.o,F.a,a.j,v.e,A.j,x.b],pipes:[f.c],styles:["@media (max-width:900px){table[_ngcontent-%COMP%]{width:800px}}"]}),e=Object(r.a)([Object(s.a)({checkProperties:!0})],e),e})()}];let R=(()=>{class e{}return e.\u0275mod=d.Rb({type:e}),e.\u0275inj=d.Qb({factory:function(t){return new(t||e)},imports:[[i.f.forChild(j)],i.f]}),e})(),z=(()=>{class e{}return e.\u0275mod=d.Rb({type:e}),e.\u0275inj=d.Qb({factory:function(t){return new(t||e)},providers:[],imports:[[a.c,R,c.a]]}),e})()}}]);