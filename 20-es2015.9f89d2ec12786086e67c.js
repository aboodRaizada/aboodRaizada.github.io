(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{YlKx:function(t,e,i){"use strict";i.r(e),i.d(e,"CityPriceModule",function(){return R});var c=i("SVse"),n=i("FpXt"),r=i("iInd"),a=i("mrSG"),l=i("0sX0"),s=i("3bzS"),o=i("AytR"),b=i("PSD3"),u=i.n(b),d=i("lJxs"),m=i("8Y7J"),p=i("SOeY"),y=i("TSSN"),g=i("jy+X"),f=i("s7LF"),h=i("Q2Ze"),P=i("e6WT"),C=i("vrAh"),Y=i("WzhS"),Z=i("UhP/"),F=i("Dxy4");const v=["cityInput"],x=function(){return{height:"40px",backgroundColor:"#ddd"}};function L(t,e){1&t&&(m.Zb(0,"div"),m.Ub(1,"ngx-skeleton-loader",24),m.Yb()),2&t&&(m.Fb(1),m.qc("count",5)("theme",m.uc(2,x)))}function I(t,e){1&t&&(m.Zb(0,"td"),m.Zb(1,"span",36),m.Lc(2),m.lc(3,"translate"),m.Yb(),m.Yb()),2&t&&(m.Fb(2),m.Nc(" ",m.mc(3,1,"CitiesPrices.isCurrent")," "))}const w=function(t){return{"bg-lighter":t}};function k(t,e){if(1&t&&(m.Xb(0),m.Zb(1,"tr",35),m.Zb(2,"td"),m.Lc(3),m.Yb(),m.Zb(4,"td"),m.Lc(5),m.Yb(),m.Zb(6,"td"),m.Lc(7),m.lc(8,"translate"),m.Yb(),m.Zb(9,"td"),m.Lc(10),m.lc(11,"translate"),m.Yb(),m.Zb(12,"td"),m.Lc(13),m.lc(14,"translate"),m.Yb(),m.Zb(15,"td"),m.Lc(16),m.lc(17,"translate"),m.Yb(),m.Kc(18,I,4,3,"td",0),m.Yb(),m.Wb()),2&t){const t=e.$implicit,i=m.kc(3);m.Fb(1),m.qc("ngClass",m.vc(16,w,null==t||null==t.cityPrice?null:t.cityPrice.isCurrent)),m.Fb(2),m.Nc(" ","en"===i.currentLang?null==t||null==t.country?null:t.country.name:null==t||null==t.country?null:t.country.arabicName," "),m.Fb(2),m.Nc(" ","en"===i.currentLang?null==t||null==t.city?null:t.city.name:null==t||null==t.city?null:t.city.arabicName," "),m.Fb(2),m.Nc(" ",null!=t&&null!=t.cityPrice&&t.cityPrice.kilometers?null==t||null==t.cityPrice?null:t.cityPrice.kilometers:m.mc(8,8,"CitiesPrices.noRecord")," "),m.Fb(3),m.Nc(" ",null!=t&&null!=t.cityPrice&&t.cityPrice.price?null==t||null==t.cityPrice?null:t.cityPrice.price:m.mc(11,10,"CitiesPrices.noRecord")," "),m.Fb(3),m.Nc(" ",null!=t&&null!=t.cityPrice&&t.cityPrice.extraKilometers?null==t||null==t.cityPrice?null:t.cityPrice.extraKilometers:m.mc(14,12,"CitiesPrices.noRecord")," "),m.Fb(3),m.Nc(" ",null!=t&&null!=t.cityPrice&&t.cityPrice.extraKiloPrice?null==t||null==t.cityPrice?null:t.cityPrice.extraKiloPrice:m.mc(17,14,"CitiesPrices.noRecord")," "),m.Fb(2),m.qc("ngIf",null==t||null==t.cityPrice?null:t.cityPrice.isCurrent)}}function N(t,e){if(1&t&&(m.Zb(0,"div",31),m.Zb(1,"table",32),m.Zb(2,"thead",33),m.Zb(3,"tr"),m.Zb(4,"th"),m.Lc(5),m.lc(6,"translate"),m.Yb(),m.Zb(7,"th"),m.Lc(8),m.lc(9,"translate"),m.Yb(),m.Zb(10,"th"),m.Lc(11),m.lc(12,"translate"),m.Yb(),m.Zb(13,"th"),m.Lc(14),m.lc(15,"translate"),m.Yb(),m.Zb(16,"th"),m.Lc(17),m.lc(18,"translate"),m.Yb(),m.Zb(19,"th"),m.Lc(20),m.lc(21,"translate"),m.Yb(),m.Yb(),m.Yb(),m.Zb(22,"tbody"),m.Kc(23,k,19,18,"ng-container",34),m.Yb(),m.Yb(),m.Yb()),2&t){const t=m.kc(2);m.Fb(5),m.Mc(m.mc(6,7,"CitiesPrices.country")),m.Fb(3),m.Mc(m.mc(9,9,"CitiesPrices.city")),m.Fb(3),m.Mc(m.mc(12,11,"CitiesPrices.kilometers")),m.Fb(3),m.Mc(m.mc(15,13,"CitiesPrices.price")),m.Fb(3),m.Mc(m.mc(18,15,"CitiesPrices.extraKilometers")),m.Fb(3),m.Nc(" ",m.mc(21,17,"CitiesPrices.extraKilometersPrice")," "),m.Fb(3),m.qc("ngForOf",t.citiesPricesResponse)}}function K(t,e){if(1&t&&(m.Zb(0,"div",5),m.Zb(1,"div",25),m.Zb(2,"div",26),m.Ub(3,"i",27),m.Zb(4,"span",28),m.Lc(5),m.lc(6,"translate"),m.Yb(),m.Yb(),m.Yb(),m.Zb(7,"div",29),m.Kc(8,N,24,19,"div",30),m.Yb(),m.Yb()),2&t){const t=m.kc();m.Fb(5),m.Nc(" ",m.mc(6,2,"CitiesPrices.citiesPrices")," "),m.Fb(3),m.qc("ngIf",!t.isLoading)}}function q(t,e){1&t&&(m.Zb(0,"mat-hint"),m.Zb(1,"span",37),m.Lc(2),m.lc(3,"translate"),m.Yb(),m.Yb()),2&t&&(m.Fb(2),m.Nc(" ",m.mc(3,1,"CitiesPrices.selectFromSelections")," "))}function M(t,e){if(1&t&&(m.Zb(0,"mat-option",38),m.Zb(1,"span",39),m.Lc(2),m.Yb(),m.Yb()),2&t){const t=e.$implicit,i=m.kc();m.qc("value",t),m.Fb(2),m.Nc(" ","en"===i.currentLang?t.name:t.arabicName," ")}}function S(t,e){if(1&t){const t=m.ac();m.Zb(0,"button",40),m.gc("click",function(){return m.Ec(t),m.kc().clearCityValue()}),m.Ub(1,"i",41),m.Yb()}}function O(t,e){if(1&t){const t=m.ac();m.Zb(0,"div",42),m.Zb(1,"button",43),m.gc("click",function(){return m.Ec(t),m.kc().save()}),m.Lc(2),m.lc(3,"translate"),m.Yb(),m.Yb()}2&t&&(m.Fb(2),m.Nc(" ",m.mc(3,1,"CitiesPrices.save")," "))}const A=[{path:"",component:(()=>{let t=class{constructor(t,e,i){this.systemService=t,this.translate=e,this.loader=i,this.currentLang="ar"===localStorage.getItem("sender-manage-lang")?"ar":"en",this.matInputAppearance=o.a.inputsStyleAppearance,this.matInputsColor=o.a.inputsStyleColor,this.isLoading=!1,this.cityPrice=new l.e,this.filteredCitiesOptions=[]}ngOnInit(){this.loadCities(),this.loadData(),this.getCurrentLang()}getCurrentLang(){this.translate.onLangChange.pipe(Object(s.b)(this)).subscribe(t=>{this.currentLang="ar"===t.lang?"ar":"en"})}loadData(){this.isLoading=!0,this.systemService.getCitiesPrices().pipe(Object(s.b)(this),Object(d.a)(t=>(t.sort((t,e)=>t.country.id<e.country.id?-1:t.country.id>e.country.id?1:void 0),t.sort((t,e)=>t.city.id<e.city.id?-1:t.city.id>e.city.id?1:void 0),t))).subscribe(t=>{this.citiesPricesResponse=t,this.isLoading=!1})}loadCities(){this.systemService.getCities(192).subscribe(t=>this.cities=t)}filteringCities(t){let e=t.value;this.filteredCitiesOptions=this.cities.filter(t=>-1!==t.name.toLowerCase().indexOf(e)||-1!==t.arabicName.toLowerCase().indexOf(e))}selectedCity(t){this.cityPrice.cityId=t.option.value.id}displayFnEn(t){return t&&t.name}displayFnAr(t){return t&&t.arabicName}clearCityValue(){this.cityPrice.cityId=null,this.cityInput.nativeElement.value=null}save(){this.loader.showLoader$.next(!0),this.systemService.addCitiesPrices(this.cityPrice).pipe(Object(s.b)(this)).subscribe(t=>{t&&(this.loader.showLoader$.next(!1),u.a.fire({title:`${this.translate.instant("CountriesPrices.saveSucceeded")}`,toast:!0,showConfirmButton:!1,timer:5e3,timerProgressBar:!0,icon:"success",position:"en"===this.currentLang?"top-right":"top-left"}),this.cityPrice=new l.e,this.clearCityValue(),this.loadData())},t=>{this.loader.showLoader$.next(!1),u.a.fire({title:`${this.translate.instant("shared.somethingWentWrong")}`,toast:!0,showConfirmButton:!1,timer:5e3,timerProgressBar:!0,icon:"error",position:"en"===this.currentLang?"top-right":"top-left"})})}};return t.\u0275fac=function(e){return new(e||t)(m.Tb(p.a),m.Tb(y.d),m.Tb(g.a))},t.\u0275cmp=m.Nb({type:t,selectors:[["app-city-price"]],viewQuery:function(t,e){if(1&t&&m.Qc(v,1),2&t){let t;m.Bc(t=m.hc())&&(e.cityInput=t.first)}},decls:52,vars:43,consts:[[4,"ngIf"],["class","card",4,"ngIf"],[1,"py-4"],[1,"row"],[1,"my-2","col-12"],[1,"card"],[1,"card-header","card-header-shadow","gradient-default","text-white","border-0","inside-card"],[1,"font-weight-normal","mb-2","text-capitalize"],[1,"card-text","mb-1"],[1,"card-body"],[1,"form-group","col-12","col-md-6","col-lg-4"],[1,"w-100","text-capitalize",3,"appearance","color"],["type","text","matInput","",3,"matAutocomplete","keyup"],["cityInput",""],[3,"displayWith","optionSelected"],["citiesAutoComplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"text-capitalize","w-100",3,"appearance","color"],["type","number","matInput","","name","kilometers",3,"ngModel","ngModelChange"],["type","number","matInput","","name","price",3,"ngModel","ngModelChange"],["type","number","matInput","","name","extraKilometers",3,"ngModel","ngModelChange"],["type","number","matInput","","name","extraKiloPrice",3,"ngModel","ngModelChange"],["class","col-md-12 d-flex justify-content-center",4,"ngIf"],["animation","progress",3,"count","theme"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fad","fa-funnel-dollar","bg-info"],[1,"text-capitalize","mx-2"],[1,"card-body","mat-card-body"],["class","table-responsive mat-elevation-z2 my-2",4,"ngIf"],[1,"table-responsive","mat-elevation-z2","my-2"],[1,"table"],[1,"text-capitalize"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"text-muted","table-success","radius-35px","px-4","py-2"],[1,"text-danger","h6"],[3,"value"],[1,"text-default","mx-2"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"fa","fa-times","text-danger"],[1,"col-md-12","d-flex","justify-content-center"],[1,"btn","btn-success","text-capitalize",3,"click"]],template:function(t,e){if(1&t){const t=m.ac();m.Kc(0,L,2,3,"div",0),m.Kc(1,K,9,4,"div",1),m.Zb(2,"div",2),m.Zb(3,"div",3),m.Zb(4,"div",4),m.Zb(5,"div",5),m.Zb(6,"div",6),m.Zb(7,"h3",7),m.Lc(8),m.lc(9,"translate"),m.Yb(),m.Zb(10,"p",8),m.Lc(11),m.lc(12,"translate"),m.Yb(),m.Yb(),m.Zb(13,"div",9),m.Zb(14,"form",3),m.Zb(15,"div",10),m.Zb(16,"mat-form-field",11),m.Zb(17,"mat-label"),m.Lc(18),m.lc(19,"translate"),m.Yb(),m.Zb(20,"input",12,13),m.gc("keyup",function(){m.Ec(t);const i=m.Cc(21);return e.filteringCities(i)}),m.Yb(),m.Kc(22,q,4,3,"mat-hint",0),m.Zb(23,"mat-autocomplete",14,15),m.gc("optionSelected",function(t){return e.selectedCity(t)}),m.Kc(25,M,3,2,"mat-option",16),m.Yb(),m.Kc(26,S,2,0,"button",17),m.Yb(),m.Yb(),m.Zb(27,"div",10),m.Zb(28,"mat-form-field",18),m.Zb(29,"mat-label"),m.Lc(30),m.lc(31,"translate"),m.Yb(),m.Zb(32,"input",19),m.gc("ngModelChange",function(t){return e.cityPrice.kilometers=t}),m.Yb(),m.Yb(),m.Yb(),m.Zb(33,"div",10),m.Zb(34,"mat-form-field",18),m.Zb(35,"mat-label"),m.Lc(36),m.lc(37,"translate"),m.Yb(),m.Zb(38,"input",20),m.gc("ngModelChange",function(t){return e.cityPrice.price=t}),m.Yb(),m.Yb(),m.Yb(),m.Zb(39,"div",10),m.Zb(40,"mat-form-field",18),m.Zb(41,"mat-label"),m.Lc(42),m.lc(43,"translate"),m.Yb(),m.Zb(44,"input",21),m.gc("ngModelChange",function(t){return e.cityPrice.extraKilometers=t}),m.Yb(),m.Yb(),m.Yb(),m.Zb(45,"div",10),m.Zb(46,"mat-form-field",18),m.Zb(47,"mat-label"),m.Lc(48),m.lc(49,"translate"),m.Yb(),m.Zb(50,"input",22),m.gc("ngModelChange",function(t){return e.cityPrice.extraKiloPrice=t}),m.Yb(),m.Yb(),m.Yb(),m.Kc(51,O,4,3,"div",23),m.Yb(),m.Yb(),m.Yb(),m.Yb(),m.Yb(),m.Yb()}if(2&t){const t=m.Cc(24);m.qc("ngIf",e.isLoading),m.Fb(1),m.qc("ngIf",null==e.citiesPricesResponse?null:e.citiesPricesResponse.length),m.Fb(7),m.Nc(" ",m.mc(9,29,"CitiesPrices.addNewPricing")," "),m.Fb(3),m.Nc(" ",m.mc(12,31,"CitiesPrices.writeCarefuly")," "),m.Fb(5),m.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),m.Fb(2),m.Nc(" ",m.mc(19,33,"CitiesPrices.city")," "),m.Fb(2),m.qc("matAutocomplete",t),m.Fb(2),m.qc("ngIf",!e.cityPrice.cityId),m.Fb(1),m.qc("displayWith","en"===e.currentLang?e.displayFnEn:e.displayFnAr),m.Fb(2),m.qc("ngForOf",e.filteredCitiesOptions),m.Fb(1),m.qc("ngIf",e.cityPrice.cityId),m.Fb(2),m.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),m.Fb(2),m.Nc(" ",m.mc(31,35,"CitiesPrices.kilometers")," "),m.Fb(2),m.qc("ngModel",e.cityPrice.kilometers),m.Fb(2),m.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),m.Fb(2),m.Nc(" ",m.mc(37,37,"CitiesPrices.price")," "),m.Fb(2),m.qc("ngModel",e.cityPrice.price),m.Fb(2),m.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),m.Fb(2),m.Nc(" ",m.mc(43,39,"CitiesPrices.extraKilometers")," "),m.Fb(2),m.qc("ngModel",e.cityPrice.extraKilometers),m.Fb(2),m.qc("appearance",e.matInputAppearance)("color",e.matInputsColor),m.Fb(2),m.Nc(" ",m.mc(49,41,"CitiesPrices.extraKilometersPrice")," "),m.Fb(2),m.qc("ngModel",e.cityPrice.extraKiloPrice),m.Fb(1),m.qc("ngIf",e.cityPrice.cityId&&e.cityPrice.kilometers&&e.cityPrice.price&&e.cityPrice.extraKilometers&&e.cityPrice.extraKiloPrice)}},directives:[c.l,f.v,f.m,f.n,h.b,h.f,P.b,C.c,C.a,c.k,f.q,f.d,f.l,f.o,Y.a,c.j,h.e,Z.j,F.a,h.g],pipes:[y.c],styles:["@media (max-width:1100px){table[_ngcontent-%COMP%]{width:1100px}}"]}),t=Object(a.a)([Object(s.a)({checkProperties:!0})],t),t})()}];let j=(()=>{class t{}return t.\u0275mod=m.Rb({type:t}),t.\u0275inj=m.Qb({factory:function(e){return new(e||t)},imports:[[r.f.forChild(A)],r.f]}),t})(),R=(()=>{class t{}return t.\u0275mod=m.Rb({type:t}),t.\u0275inj=m.Qb({factory:function(e){return new(e||t)},providers:[],imports:[[c.c,j,n.a]]}),t})()}}]);